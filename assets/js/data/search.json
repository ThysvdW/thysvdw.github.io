[
  
  {
    "title": "The one with the calendar.",
    "url": "/posts/the-one-with-the-calendar/",
    "categories": "",
    "tags": "deneb, powerbi, calendar",
    "date": "2022-10-13 22:00:00 +0200",
    





    "snippet": "I was recently asked to create a sample report for failed data transfers, with the request being really specific. It needs to be a calendar, that will show red for failures and green for the successes. As I already had a template for the calendar, it was actually pretty straightforward with Deneb.&nbsp;&nbsp;DatasetYou can create your own dataset for this, using the following DAX queries to generate a calculated table, and a calculated column.Source = VAR __StartDate = DATE ( 2022,1,1)VAR __EndDate = DATE ( 2022,12,31)VAR __Calendar = CALENDAR ( __StartDate, __EndDate )VAR __AddColumns =    ADDCOLUMNS (         ADDCOLUMNS (             __Calendar,            \"Day\", WEEKDAY ( [Date] , 1 ),            \"StartOfMonth\", EOMONTH( [Date] , -1 ) + 1,            \"WeekNumStartOfMonth\", WEEKNUM( EOMONTH( [Date] , -1 ) + 1 ),            \"CurrentWeek\", WEEKNUM([Date]),            \"AfterToday\", IF ( [Date] &gt;= TODAY(), 1, 0 )        ),        \"Week\", ([CurrentWeek] - [WeekNumStartOfMonth] ) + 1,        \"Success\", IF ( [AfterToday] = 1, BLANK(), RANDBETWEEN( 0, 1 ) )    )RETURN    __AddColumns&nbsp;&nbsp;Additional fields createdNo additional fields created&nbsp;&nbsp;Fields used  Date  Week  Day  Success&nbsp;&nbsp;SpecificationThe specification in a nutshell:{  ...  \"encoding\":{    \"x\",    \"y\"  },  \"layer\":[    {\"mark\":\"rect\"},    {\"mark\":\"text\"},    {\"mark\":\"text\"},  ]  ...}&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.4.0.0\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.4.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"highlight\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the Calendar\",      \"description\": \"Creates a calendar matrix with successes and failures\",      \"author\": \"@ThysvdW\",      \"uuid\": \"e3cb440a-9c88-4cdf-93cc-324d3d2775bd\",      \"generated\": \"2022-10-13T21:13:09.385Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"Date\",        \"description\": \"Calendar Date field\",        \"type\": \"dateTime\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"Day\",        \"description\": \"Day of week (Column in the matrix)\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"Week\",        \"description\": \"Week of Month (Row in the matrix)\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__3__\",        \"name\": \"Success\",        \"description\": \"Show 0/1 for Success/Failure\",        \"type\": \"numeric\",        \"kind\": \"column\"      }    ]  },  \"config\": {    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"facet\": {    \"field\": \"__0__\",    \"type\": \"temporal\",    \"timeUnit\": \"yearmonth\",    \"header\": {      \"title\": null,      \"format\": \"%B\",      \"labelFontSize\": 15,      \"labelPadding\": 15    },    \"sort\": {\"field\": \"__0__\"}  },  \"spec\": {    \"width\": {\"step\": 25},    \"height\": {\"step\": 25},    \"encoding\": {      \"x\": {        \"field\": \"__0__\",        \"type\": \"nominal\",        \"timeUnit\": \"day\",        \"axis\": null      },      \"y\": {        \"field\": \"__2__\",        \"type\": \"ordinal\",        \"axis\": null      }    },    \"layer\": [      {        \"mark\": {          \"type\": \"rect\",          \"strokeWidth\": 1,          \"color\": {            \"expr\": \"datum['__3__'] == 1 ? 'green' : datum['__3__'] == 0 ? 'red' : 'transparent'\"          },          \"stroke\": \"#ffffff\"        },        \"encoding\": {          \"opacity\": {\"value\": 0.5}        }      },      {        \"mark\": {          \"type\": \"text\",          \"size\": 12,          \"text\": {            \"expr\": \"datum['__3__'] == 0 ? '❌' : ''\"          }        },        \"encoding\": {          \"color\": {\"value\": \"#ffffff\"}        }      },      {        \"mark\": {          \"type\": \"text\",          \"size\": 8,          \"color\": \"black\"        },        \"encoding\": {          \"text\": {            \"field\": \"__0__\",            \"type\": \"temporal\",            \"timeUnit\": \"date\"          }        }      }    ]  },  \"spacing\": 20,  \"columns\": 4}"
  },
  
  {
    "title": "The one with the tadpole chart.",
    "url": "/posts/the-one-with-the-tadpole-chart/",
    "categories": "",
    "tags": "deneb, powerbi, tadpole",
    "date": "2022-10-09 20:00:00 +0200",
    





    "snippet": "I recently came across a tweet by @Haquafresh  that pointed to a Tadpole chart that is now available in Tableau. With a 100 lines of json code, excluding configuration, it is also available in PowerBI using Deneb.&nbsp;&nbsp;DatasetThe dataset is the Tableau Superstore dataset, that can be found at the following link.&nbsp;&nbsp;Additional fields createdProfitProfit = SUM ( Orders[Profit] )CYCY = CALCULATE( [Profit], 'Date'[Year] = 2021 )PYPY = CALCULATE( [Profit], 'Date'[Year] = 2020 )DiffDiff = VAR __Diff = [CY] - [PY]VAR __Check = IF ( __Diff &gt; 0, 1, -1 )RETURN    __Check&nbsp;&nbsp;Fields used  ‘Product’[Sub-Category]  CY  PY  Diff&nbsp;&nbsp;SpecificationThe specification in a nutshell:* layer  * rule  * point  * text  With a small change to the specification, you can change the circle point to an arrow, as proposed by Steve Wexler....\"mark\": {        \"type\": \"point\",        \"shape\": {          \"expr\": \"datum.Diff &gt; 0 ? 'triangle-right' : 'triangle-left'\"        },        \"size\": 110,        \"opacity\": 1,        \"color\": {          \"expr\": \"datum.Diff &gt; 0 ? '#2d5f8e' : '#a44022'\"        }      }...&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.4.0.0\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.4.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"highlight\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"Tadpole Chart\",      \"description\": \"[No Description Provided]\",      \"author\": \"ThysvdW\",      \"uuid\": \"d2f72e90-5e0b-438d-a848-d1121c8eacd1\",      \"generated\": \"2022-10-10T06:53:23.124Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"SubCategory\",        \"description\": \"Product Sub-Category\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"CY\",        \"description\": \"Current Year measure\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__2__\",        \"name\": \"PY\",        \"description\": \"Previous Year measure\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__3__\",        \"name\": \"Diff\",        \"description\": \"Indicator to show negative / positive difference\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisX\": {      \"labelPadding\": 5,      \"labelFontSize\": 10    },    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"encoding\": {    \"y\": {      \"field\": \"__0__\",      \"axis\": {        \"title\": \"Sub-Category\",        \"titleAngle\": 0,        \"titleX\": -40,        \"titleY\": 0,        \"labelFontSize\": 14      }    }  },  \"layer\": [    {      \"mark\": {        \"type\": \"rule\",        \"size\": 4,        \"strokeCap\": \"round\",        \"color\": {          \"expr\": \"datum['__3__'] &gt; 0 ? '#2d5f8e' : '#a44022'\"        }      },      \"encoding\": {        \"x\": {          \"field\": \"__1__\",          \"type\": \"quantitative\",          \"axis\": {            \"title\": \"Profit\",            \"ticks\": false,            \"tickCount\": 8,            \"format\": \"$,.0f\"          },          \"scale\": {            \"domain\": [-11000, 30000]          }        },        \"x2\": {\"field\": \"__2__\"}      }    },    {      \"mark\": {        \"type\": \"point\",        \"size\": 110,        \"opacity\": 1,        \"color\": {          \"expr\": \"datum['__3__'] &gt; 0 ? '#2d5f8e' : '#a44022'\"        }      },      \"encoding\": {        \"x\": {          \"field\": \"__1__\",          \"type\": \"quantitative\",          \"axis\": {            \"title\": \"Profit\",            \"ticks\": false,            \"tickCount\": 8,            \"format\": \"$,.0f\"          },          \"scale\": {            \"domain\": [-11000, 30000]          }        }      }    },    {      \"mark\": {        \"type\": \"text\",        \"fontSize\": 14,        \"fontWeight\": 500,        \"dx\": {          \"expr\": \"datum['__3__'] &gt; 0 ? 35 : -35\"        },        \"color\": {          \"expr\": \"datum['__3__'] &gt; 0 ? '#2d5f8e' : '#a44022'\"        }      },      \"encoding\": {        \"x\": {          \"field\": \"__1__\",          \"type\": \"quantitative\",          \"axis\": {            \"title\": \"Profit\",            \"ticks\": false,            \"tickCount\": 8,            \"format\": \"$,.0f\"          },          \"scale\": {            \"domain\": [-11000, 30000]          }        },        \"text\": {          \"field\": \"__1__\",          \"format\": \"$,.0f\"        }      }    }  ]}"
  },
  
  {
    "title": "The one with Font Awesome icons.",
    "url": "/posts/the-one-with-fontawesome-icons/",
    "categories": "",
    "tags": "deneb, powerbi, icon, font awesome",
    "date": "2022-10-06 20:00:00 +0200",
    





    "snippet": "I am a regular visitor to Shad Frigui’s Github  page. He did a post  a while back about alcohol consumption, in which he utilized a “point” mark with a SVG path for the bottle.We all love our icons and adding it to PowerBI just got a lot easier, with the help of Deneb Custom Visual and Font Awesome’s SVG path for their icons.&nbsp;&nbsp;DatasetYou don’t need any dataset for this visual&nbsp;&nbsp;Measures createdI created one measure to add to Deneb custom visual.  Value = 1&nbsp;&nbsp;Fields used  Value&nbsp;&nbsp;Steps to followStep 1  Visit the Font Awesome website at https://fontawesome.comStep 2  Search for the icon you would like to use.Step 3  Once you found the icon, click on the icon, and select “copy svg path” from the icons at the top.Step 4  Paste the svg path in a text editor of your choice, and delete everything except the path section.          The path section is from after the &lt;path d=\" to \"/&gt;&lt;/svg&gt;.                  &lt;svg xmlns=”http://www.w3.org/2000/svg” viewBox=”0 0 576 512”&gt;&lt;path d=”M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 &gt;2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.&gt;3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.&gt;9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z”/&gt;&lt;/svg&gt;                    5. Use the json code below, and replace the shape property value with the value of your selected icon.{  \"data\": {\"values\": [{}]},  \"encoding\": {    \"x\": {\"datum\": 0, \"axis\": null},    \"y\": {\"datum\": 0, \"axis\": null}  },  \"mark\": {    \"type\": \"point\",    \"filled\": true,    \"size\": 0.015,    \"shape\": \"M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z\"  }}&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor "
  },
  
  {
    "title": "The one with the scatterplot sheet music.",
    "url": "/posts/the-one-with-the-scatter-plot-sheet-music/",
    "categories": "",
    "tags": "deneb, powerbi, scatterplot, workout wednesday, music, sheet",
    "date": "2022-06-17 17:00:00 +0200",
    





    "snippet": "The chart was posted as part of the PowerBI Workout Wednesday 2022  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.  Before you continue with the template, please be mindful that I don’t have any music background. The challenge was merely done to see what is possible with Deneb and text layers.&nbsp;&nbsp;Additional fields createdI added two rows per song to the Music Notes  worksheet.  Pitch : SingleBar / Length : 1 / Distance Middle C : 0  Pitch : Gcleff / Length : 2 / Distance Middle C : 0The two records above was also added to the Note Mapping worksheet, and then added a “Scale” field.      MiddleC    Note    Scale        1    C    6.5        1    B    6        1    B-flat    6        1    A    5.5        1    A-flat    5.5        1    G    5        1    G-flat    5        1    F    4.5        1    E    4        1    E-flat    4        1    D    3.5        1    D-flat    3.5        0    C    3        -1    B    2.5        -1    B-flat    2.5        -1    A    2        -1    A-flat    2        -1    G    1.5        -1    G-flat    1.5        -1    F    1        -1    E    0.5        -1    E-Flat    0.5        -1    D    0        -1    D-flat    0        -1    C    -0.5        0    Rest    3        0    SingleBar    3        0    Gcleff    3  I then created a “KEY” column in Power Query to create a unique field to map the notes from the Music Notes to the Note Mapping table.&nbsp;&nbsp;Fields used  Note  Scale  Index  Length&nbsp;&nbsp;Specification  This specification can be enhanced with the song lyrics. Add the lyrics to the Music Notes worksheet, next to the corresponding note. Then add the additional text layer for the lyrics.The specification in a nutshell:* layer  * text (𝅘𝅥 note length &lt;= 2)  * text (𝅗𝅥 note length &gt; 2 and note length &lt;= 5)  * text (__ for notes that is outside of the staff)  * text (𝅝 note length &gt; 5)  * text (𝄀 where the Note = 'SingleBar')  * text (𝄞 where the Note = 'Gcleff')  * text (𝄩 where the Note = 'Rest')The challenge is to get the notes to align to where the “scatterplot” points are. Note that some notes has a different angle, which is possible with the “Angle” attribute to the text mark.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.2.0.1\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"highlight\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the scatterplot sheet music.\",      \"description\": \"A scatterplot that generates sheet music\",      \"author\": \"Thys\",      \"uuid\": \"52404676-5a5d-4040-93ee-4b2b5cc2901f\",      \"generated\": \"2022-06-17T15:46:05.120Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"Note\",        \"description\": \"The note description\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"Scale\",        \"description\": \"The scale of the note (Y-axis)\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__2__\",        \"name\": \"Index\",        \"description\": \"The index of the note (X-axis)\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__3__\",        \"name\": \"Length\",        \"description\": \"The length of the note\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"height\": {\"step\": 3},  \"encoding\": {    \"x\": {      \"field\": \"__2__\",      \"type\": \"quantitative\",      \"axis\": null    },    \"y\": {      \"field\": \"__1__\",      \"type\": \"nominal\",      \"title\": null,      \"axis\": {        \"labels\": false,        \"grid\": true,        \"values\": [1, 2, 3, 4, 5]      },      \"scale\": {        \"domain\": [          7,          6.5,          6,          5.5,          5,          4.5,          4,          3.5,          3,          2.5,          2,          1.5,          1,          0.5,          0,          -0.5        ]      },      \"sort\": {        \"field\": \"__1__\",        \"order\": \"descending\"      }    }  },  \"layer\": [    {      \"transform\": [        {          \"filter\": \"datum['__3__'] &lt;= 2 &amp;&amp; datum['__0__'] != 'Rest'            &amp;&amp; datum['__0__'] != 'SingleBar' &amp;&amp; datum['__0__'] != 'Gcleff'\"        }      ],      \"mark\": {        \"type\": \"text\",        \"size\": 30,        \"dy\": -4,        \"angle\": {          \"expr\": \"datum['__1__'] &gt; 3 ? 180 : 0\"        }      },      \"encoding\": {        \"text\": {\"value\": \"𝅘𝅥\"},        \"color\": {\"value\": \"black\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__3__'] &gt; 2 &amp;&amp; datum['__3__'] &lt;= 5 &amp;&amp;               datum['__0__'] != 'Rest' &amp;&amp; datum['__0__'] != 'SingleBar'                 &amp;&amp; datum['__0__'] != 'Gcleff'\"        }      ],      \"mark\": {        \"type\": \"text\",        \"size\": 30,        \"dy\": -5,        \"angle\": {          \"expr\": \"datum['__1__'] &gt; 3 ? 180 : 0\"        }      },      \"encoding\": {        \"text\": {\"value\": \"𝅗𝅥\"},        \"color\": {\"value\": \"black\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__1__'] &lt; 0.5 || datum['__1__'] &gt; 5.5\"        }      ],      \"mark\": {        \"type\": \"text\",        \"size\": 20,        \"dy\": -7,        \"angle\": {          \"expr\": \"datum['__1__'] &gt; 3 ? 180 : 0\"        }      },      \"encoding\": {        \"text\": {\"value\": \"__\"},        \"color\": {\"value\": \"black\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__3__'] &gt; 5 &amp;&amp; datum['__0__'] != 'Rest'             &amp;&amp; datum['__0__'] != 'SingleBar' &amp;&amp; datum['__0__'] != 'Gcleff'\"        }      ],      \"mark\": {        \"type\": \"text\",        \"size\": 25,        \"dy\": -5      },      \"encoding\": {        \"text\": {\"value\": \"𝅝\"},        \"color\": {\"value\": \"black\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__0__'] == 'SingleBar'\"        }      ],      \"mark\": {        \"type\": \"text\",        \"dy\": 3,        \"size\": 35      },      \"encoding\": {        \"text\": {\"value\": \"𝄀\"},        \"color\": {\"value\": \"black\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__0__'] == 'Gcleff'\"        }      ],      \"mark\": {        \"type\": \"text\",        \"size\": 40      },      \"encoding\": {        \"text\": {\"value\": \"𝄞\"},        \"color\": {\"value\": \"black\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__0__'] == 'Rest'\"        }      ],      \"mark\": {        \"type\": \"text\",        \"size\": 25      },      \"encoding\": {        \"text\": {\"value\": \"𝄩\"},        \"color\": {\"value\": \"black\"}      }    }  ]}"
  },
  
  {
    "title": "The one with the hex-tile maps.",
    "url": "/posts/the-one-with-the-hex-tile-maps/",
    "categories": "",
    "tags": "deneb, powerbi, line, makeover monday, hex-tile, map, facet",
    "date": "2022-06-12 13:00:00 +0200",
    





    "snippet": "While scrolling through my twitter timeline, I came across   Deborah Simmonds’s  redo of a Makeover Monday graph. This seemed like an interesting redo for Deneb &amp; PowerBI, as Shad Frigui recently published a Hex-tile map done in Vega-lite.&nbsp;&nbsp;DatasetThe dataset can be found on the  Makeover Monday website  for Week 3.You require the Excel file from the blog post by  Kevin Taylor,  to map the State codes to the relevant location on the chart. &nbsp;&nbsp;Additional fields createdNo additional fields created&nbsp;&nbsp;Fields used  Year  Code (Country Code)  Country (Country Description)  Score  Indicator (Dimension field)&nbsp;&nbsp;SpecificationThe specification in a nutshell:facet   * per Year spec  * mark = text (where the text value to display is a \"⬢\")  * encoding     * x : column value    * y : row value (descending order)    * color : Measure  One realise the power of Deneb and Vega-lite when you notice that the code to render the hex-tile maps is only 54 lines (excl. config settings).&nbsp;&nbsp;External references  How to use hex-tile maps to eliminate the Alaska effect.  Hexbin Chart in Altair.  Vega-lite tile map.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.2.0.1\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"highlight\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the hex-tile map\",      \"description\": \"A hex-tile map for States of North America\",      \"author\": \"Thys\",      \"uuid\": \"14e7fcc1-4cc7-4dfd-a490-dcaa666dcbf7\",      \"generated\": \"2022-06-12T12:01:19.916Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"Row\",        \"description\": \"Y-axis value for US State location on map\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"Column\",        \"description\": \"X-axis value for US State location on map\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"Year\",        \"description\": \"Date value \",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__3__\",        \"name\": \"Total\",        \"description\": \"Measure to be mapped\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"facet\": {    \"field\": \"__2__\",    \"header\": {      \"title\": null,      \"labelAnchor\": \"start\",      \"labelFont\": \"Segoe UI Light\",      \"labelFontSize\": 14,      \"labelColor\": \"black\",      \"labelFontWeight\": \"bold\"    }  },  \"spec\": {    \"width\": 150,    \"height\": 80,    \"mark\": {      \"type\": \"text\",      \"text\": \"⬢\",      \"size\": 17    },    \"encoding\": {      \"x\": {        \"field\": \"__1__\",        \"type\": \"quantitative\",        \"axis\": null      },      \"y\": {        \"field\": \"__0__\",        \"type\": \"quantitative\",        \"sort\": \"descending\",        \"axis\": null      },      \"color\": {        \"field\": \"__3__\",        \"type\": \"quantitative\",        \"aggregate\": \"sum\",        \"legend\": {          \"title\": null,          \"tickCount\": 4,          \"gradientLength\": 725,          \"gradientThickness\": 15,          \"orient\": \"top\",          \"format\": \"%\"        },        \"scale\": {          \"scheme\": \"lightgreyteal\"        }      }    }  },  \"columns\": 4,  \"spacing\": 25}"
  },
  
  {
    "title": "The one with the rank chart.",
    "url": "/posts/the-one-with-the-rank-chart/",
    "categories": "",
    "tags": "deneb, powerbi, line, makeover monday, rank, facet",
    "date": "2022-06-12 08:00:00 +0200",
    





    "snippet": "This was a Tableau redo of  Takafumi Shukuya’s work  as seen on Tableau Public.&nbsp;&nbsp;DatasetThe dataset can be found on the  Makeover Monday website  for Week 5.&nbsp;&nbsp;Additional fields createdNo additional fields created&nbsp;&nbsp;Fields used  Year  Code (Country Code)  Country (Country Description)  Score  Indicator (Dimension field)&nbsp;&nbsp;SpecificationThe specification in a nutshell:facet   * per Indicator spec  * layer (for all countries excluding EU28)    * line (for the line chart)    * text (for the country code)  * layer (for EU28)    * line (for the line chart)    * text (for the country code)&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.2.0.1\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"highlight\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the rank chart\",      \"description\": \"Shows ranking per country of multiple dimensions; Legend is used as filter.\",      \"author\": \"Thys\",      \"uuid\": \"399fe811-c4e3-45fb-abb0-a886c0965871\",      \"generated\": \"2022-06-12T10:01:44.192Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"Year\",        \"description\": \"Date field\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"Code\",        \"description\": \"Country Code\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"Country\",        \"description\": \"Country Name\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__3__\",        \"name\": \"Indicator\",        \"description\": \"Dimension field to be analysed\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__4__\",        \"name\": \"Score\",        \"description\": \"Measure to be reviewed\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 2,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI Light\",      \"titleFontSize\": 18,      \"titleBaseline\": \"line-bottom\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"titlePadding\": -12,      \"labelFont\": \"Segoe UI\",      \"labelOffset\": -12,      \"labelFontSize\": 14,      \"labelColor\": \"#605E5C\",      \"symbolSize\": 0    }  },  \"data\": {\"name\": \"dataset\"},  \"transform\": [    {      \"sort\": [        {          \"field\": \"__4__\",          \"order\": \"descending\"        }      ],      \"window\": [        {\"op\": \"rank\", \"as\": \"rank\"}      ],      \"groupby\": [\"__0__\", \"__3__\"]    },    {      \"calculate\": \"length(datum['__3__']) &gt; 20 ? split(upper(datum['__3__']), ' ') : upper(datum['__3__'])\",      \"as\": \"__Upper__\"    }  ],  \"facet\": {    \"field\": \"__Upper__\",    \"header\": null  },  \"columns\": 5,  \"spacing\": -10,  \"spec\": {    \"width\": 120,    \"height\": 450,    \"encoding\": {      \"x\": {        \"field\": \"__0__\",        \"type\": \"ordinal\",        \"axis\": {          \"title\": null,          \"labelAngle\": 0,          \"values\": [2014, 2018]        }      },      \"y\": {        \"field\": \"rank\",        \"type\": \"ordinal\",        \"axis\": {          \"title\": \"Rank by Country\",          \"values\": [1, 15, 29]        }      }    },    \"layer\": [      {        \"encoding\": {          \"color\": {            \"condition\": {              \"param\": \"__select__\",              \"field\": \"__2__\",              \"type\": \"nominal\",              \"scale\": {                \"range\": [\"#00d8d6\"]              }            },            \"value\": \"#dedede\"          },          \"opacity\": {            \"condition\": {              \"param\": \"__select__\",              \"value\": 1            },            \"value\": 0.5          }        },        \"layer\": [          {            \"params\": [              {                \"name\": \"__select__\",                \"select\": {                  \"type\": \"point\",                  \"fields\": [\"__2__\"]                },                \"value\": [                  {\"Country\": \"Cyprus\"}                ],                \"bind\": \"legend\"              }            ],            \"transform\": [              {                \"filter\": \"datum['__1__'] != 'EU28'\"              }            ],            \"mark\": {              \"type\": \"line\",              \"orient\": \"vertical\"            }          },          {            \"mark\": {              \"type\": \"text\",              \"align\": \"left\",              \"dx\": 4            },            \"encoding\": {              \"x\": {                \"aggregate\": \"max\",                \"field\": \"__0__\"              },              \"y\": {                \"aggregate\": {                  \"argmax\": \"__0__\"                },                \"field\": \"rank\"              },              \"text\": {                \"field\": \"__1__\",                \"type\": \"nominal\"              }            }          }        ]      },      {        \"transform\": [          {            \"filter\": \"datum['__1__'] == 'EU28'\"          }        ],        \"encoding\": {          \"color\": {\"value\": \"black\"}        },        \"layer\": [          {            \"mark\": {              \"type\": \"line\",              \"orient\": \"vertical\"            }          },          {            \"mark\": {              \"type\": \"text\",              \"align\": \"left\",              \"dx\": 4            },            \"encoding\": {              \"x\": {                \"aggregate\": \"max\",                \"field\": \"__0__\"              },              \"y\": {                \"aggregate\": {                  \"argmax\": \"__0__\"                },                \"field\": \"rank\"              },              \"text\": {                \"field\": \"__1__\",                \"type\": \"nominal\"              }            }          }        ]      }    ]  }}"
  },
  
  {
    "title": "The one with the burndown chart .",
    "url": "/posts/the-one-with-the-burndown-chart/",
    "categories": "",
    "tags": "deneb, powerbi, line, wow2022, workout wednesday, burndown",
    "date": "2022-05-07 00:00:00 +0200",
    





    "snippet": "This chart was part of the Week 18 Workout Wednesday  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above. I’ve added a calculated Date table. The Date table was linked to the Superstore order_date field.Date = VAR __StartYear = YEAR ( MIN ( superstore[order_date] ) )VAR __EndYear = YEAR ( MAX ( superstore[order_date] ) )VAR __Calendar = CALENDAR( DATE (__StartYear, 1, 1 ), DATE ( __EndYear, 12, 31 ) )VAR __FullTable =    ADDCOLUMNS(        __Calendar,        \"Month Year\", EOMONTH ( [Date], 0 ),        \"MonthOffSet\", DATEDIFF ( NOW(), [Date], MONTH),        \"YearMonth\", FORMAT ( [Date], \"YYYYMM\" ) * 100 ,        \"DateOffSet\", DATEDIFF ( NOW(), [Date], DAY )    )RETURN    __FullTable&nbsp;&nbsp;Additional fields createdBudgetBudget = VAR __HistoricDate =    CALCULATE( SUM ( Superstore[budget] ) ,'Date'[DateOffSet] &lt; 0 )VAR __FutureDate =    CALCULATE ( BLANK() , 'Date'[DateOffSet] &gt;= 0 ) + 0RETURN    __HistoricDate + __FutureDateBudget UsedBudget Used = CALCULATE(\t[Budget],\tFILTER(\t\tALLSELECTED('Date'[Date]),\t\tISONORAFTER('Date'[Date], MAX('Date'[Date]), DESC)\t))Total BudgetTotal Budget =     CALCULATE (         SUM ( Superstore[budget] ),        ALL ('Date' ))Remaining BudgetRemaining Budget =     [Total Budget] - [Budget Used]Budget FCTBudget FCT = // forecast valueVAR __NumberOfMonths =    CALCULATE( COUNTROWS( VALUES( 'Date'[Month Year] ) ), ALL( 'Date' ) )RETURN    DIVIDE( [Total Budget], __NumberOfMonths )Budget Used FCTBudget Used FCT = VAR __MaxDate = MAX ('Date'[Date])VAR __BudgetUsedFCT =CALCULATE(    SUMX ( SUMMARIZE(                'Date',                'Date'[Month Year],                \"Average Monthly\", [Budget FCT]            ), [Average Monthly] ),\tFILTER(\t\tALLSELECTED('Date'[Date]),\t\tISONORAFTER('Date'[Date], MAX('Date'[Date]), DESC)\t))RETURN     __BudgetUsedFCTRemaining Budget FCTRemaining Budget FCT =     [Total Budget] - [Budget Used FCT]&nbsp;&nbsp;Fields used  Month Year (month)  Remaining Budget FCT (fct)  Remaining Budget (act)  Today (today)  MonthOffset (monthoffset)&nbsp;&nbsp;SpecificationThe specification in a nutshell:layer   * rect (greyed out box for future values)  * line (for the actual value)  * line (for the forecasted value)  * rule (for today's date)  * text (display \"Future\")&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.2.0.1\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"highlight\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The burndown chart\",      \"description\": \"Shows the actual comparison against forecasted or budgeted values\",      \"author\": \"Thys van der Westhuizen\",      \"uuid\": \"5edacd16-8088-43e7-aa6b-d7ab87e204fd\",      \"generated\": \"2022-05-07T12:10:22.816Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"month\",        \"description\": \"Month &amp; Year as x-axis on the chart\",        \"type\": \"dateTime\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"monthoffset\",        \"description\": \"Month-offset to current month\",        \"type\": \"numeric\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"fct\",        \"description\": \"Forecast/Budget value\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__3__\",        \"name\": \"act\",        \"description\": \"Actual value\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__4__\",        \"name\": \"today\",        \"description\": \"Display Today's date on Chart\",        \"type\": \"dateTime\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 35    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"transform\": [        {          \"filter\": \"datum['__1__'] &gt;= 0\"        }      ],      \"mark\": {\"type\": \"rect\"},      \"encoding\": {        \"x\": {          \"aggregate\": \"min\",          \"field\": \"__4__\",          \"type\": \"temporal\",          \"timeUnit\": \"yearmonth\",          \"title\": null        },        \"x2\": {          \"field\": \"__0__\",          \"aggregate\": \"max\"        },        \"color\": {\"value\": \"#f2f2f2\"},        \"opacity\": {\"value\": 0.7}      }    },    {      \"mark\": {        \"type\": \"line\",        \"tooltip\": true,        \"interpolate\": \"natural\",        \"strokeWidth\": 2,        \"point\": true      },      \"encoding\": {        \"x\": {          \"field\": \"__0__\",          \"type\": \"temporal\",          \"timeUnit\": \"yearmonth\",          \"title\": null        },        \"y\": {          \"field\": \"__3__\",          \"type\": \"quantitative\",          \"axis\": {            \"format\": \"$.2s\",            \"tickCount\": 5,            \"title\": null          }        },        \"color\": {\"value\": \"#bda94e\"}      }    },    {      \"mark\": {        \"type\": \"line\",        \"tooltip\": true,        \"interpolate\": \"natural\",        \"strokeWidth\": 1,        \"strokeDash\": [1, 4]      },      \"encoding\": {        \"x\": {          \"field\": \"__0__\",          \"type\": \"temporal\",          \"timeUnit\": \"yearmonth\",          \"title\": null        },        \"y\": {          \"field\": \"__2__\",          \"type\": \"quantitative\"        }      }    },    {      \"mark\": {        \"type\": \"rule\",        \"tooltip\": true,        \"interpolate\": \"natural\",        \"strokeWidth\": 1,        \"strokeDash\": [4, 4]      },      \"encoding\": {        \"x\": {          \"field\": \"__4__\",          \"type\": \"temporal\",          \"title\": null        },        \"color\": {\"value\": \"#acacac\"}      }    },    {      \"mark\": {        \"type\": \"text\",        \"font\": \"Segoe UI Light\",        \"fontSize\": 13,        \"fontWeight\": \"normal\",        \"dy\": -210,        \"dx\": 25      },      \"encoding\": {        \"x\": {          \"field\": \"__4__\",          \"type\": \"temporal\",          \"title\": null        },        \"text\": {\"datum\": \"Future\"},        \"color\": {\"value\": \"#acacac\"}      }    }  ]}"
  },
  
  {
    "title": "The one with the other sparkline.",
    "url": "/posts/the-one-with-the-other-sparkline/",
    "categories": "",
    "tags": "deneb, powerbi, sparkline, wow2022, workout wednesday",
    "date": "2022-04-17 00:00:00 +0200",
    





    "snippet": "I recently came across a Stackoverflow  question, on the possibility of creating sparklines within vega-lite.The question pointed to a visual that show the number of Covid Cases by State.  Having played around a lot with Deneb and PowerBI I thought this should actually be possible with not a lot of code.  I had a lot of issues doing this in Power BI with Deneb, as Power BI kept crashing due to Webview2 issues. I think the amount of datapoints was an issue, even with the limit of 10,000 records.&nbsp;&nbsp;DatasetThe dataset can be downloaded at the following link.&nbsp;&nbsp;Fields used  date  state  positiveIncreases  positive&nbsp;&nbsp;SpecificationThe specification in a nutshell:facet   * rowspec  * layer    * text mark    * text mark    * area mark{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"data\": {    \"url\": \"https://api.covidtracking.com/v1/states/daily.csv\",    \"name\": \"dataset\",    \"format\": {\"type\": \"csv\"}  },  \"facet\": {     \"row\": {      \"field\": \"state\",      \"sort\": {        \"field\": \"positiveIncrease\",        \"op\": \"average\",        \"order\": \"descending\"      }    }  },  \"spec\": {    \"transform\": [    {      \"calculate\": \"datetime(slice(datum.date,0,4), slice(datum.date,4,6),[slice(datum.date,6,8)])\",      \"as\": \"__date\"    }  ],    \"height\": 20,    \"layer\": [      {        \"mark\": {          \"type\": \"area\"        },        \"encoding\": {          \"x\": {            \"field\": \"__date\",            \"type\": \"temporal\",            \"timeUnit\": \"yearmonthdate\",            \"axis\": {              \"title\": null,              \"orient\": \"top\",              \"domain\": false,              \"ticks\": false,              \"labels\": false,              \"grid\": false            }          },          \"y\": {            \"field\": \"positiveIncrease\",            \"aggregate\": \"sum\",            \"type\": \"quantitative\",            \"axis\": {              \"title\": null,              \"domain\": false,              \"labels\": false,              \"ticks\": false,              \"grid\": false            }          }        }      },      {        \"mark\": {          \"type\": \"text\",          \"align\": \"right\",          \"dx\": -120        },        \"encoding\": {          \"text\": {            \"aggregate\": {              \"argmax\": \"__date\"            },            \"field\": \"positiveIncrease\",            \"format\": \",.0f\",            \"type\": \"quantitative\"          }        }      },      {        \"mark\": {          \"type\": \"text\",          \"align\": \"right\",          \"dx\": -180        },        \"encoding\": {          \"text\": {            \"aggregate\": {              \"argmax\": \"__date\"            },            \"field\": \"positive\",            \"format\": \",.0f\",            \"type\": \"quantitative\"          }        }      }    ]  },  \"resolve\": {    \"scale\": {\"y\": \"independent\"}  }}&nbsp;&nbsp;Config  \"view\": {\"stroke\": \"transparent\"},  \"header\": {    \"title\": null,    \"labelAngle\": 0,    \"labelAlign\": \"left\",    \"labelFontSize\": 12,    \"labelFont\": \"Arial\"  },  \"text\": {    \"font\": \"Arial\",    \"fontSize\": 12  },  \"facet\": {\"spacing\": 1},  \"area\":{      \"interpolate\": \"monotone\",          \"line\": {            \"color\": \"red\",            \"strokeWidth\": 1,            \"interpolate\": \"monotone\"          },          \"fill\": \"#faa\"  }&nbsp;&nbsp;External references  Faceting a Plot into a Trellis Plot.  Area chart.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor "
  },
  
  {
    "title": "The one with the sparklines.",
    "url": "/posts/the-one-with-sparkline/",
    "categories": "",
    "tags": "deneb, powerbi, sparkline, wow2022, workout wednesday",
    "date": "2022-04-15 00:00:00 +0200",
    





    "snippet": "This chart was part of the Week 14 Workout Wednesday  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Fields used  Sub-Category  Monthend_Date  Sales  Profit&nbsp;&nbsp;SpecificationThe specification in a nutshell:facet   * rowspec  * layer    * text mark    * text mark    * area mark&nbsp;&nbsp;External references  Faceting a Plot into a Trellis Plot.  Area chart.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.1.0.0\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the sparkline\",      \"description\": \"Matrix with sparkline\",      \"author\": \"Thys\",      \"uuid\": \"4cbe8364-5bec-4922-a946-0f5600f1cb29\",      \"generated\": \"2022-04-15T12:11:15.249Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"Sub-Category\",        \"description\": \"Used to produce the rows of Matrix\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"MonthendDate\",        \"description\": \"Date field used to produce sparkline\",        \"type\": \"dateTime\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"Sales\",        \"description\": \"Measure to show in matrix\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__3__\",        \"name\": \"Profit\",        \"description\": \"Second Measure to use in matrix\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"color\": \"#d5d5d5\"    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 2,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\",      \"color\": \"#666666\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": false,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"spacing\": {\"row\": 2},  \"facet\": {    \"row\": {      \"field\": \"__0__\",      \"type\": \"nominal\",      \"header\": {        \"title\": null,        \"labelAngle\": 0,        \"labelPadding\": 12,        \"titlePadding\": -4,        \"labelAlign\": \"left\"      }    }  },  \"spec\": {    \"width\": 120,    \"height\": 25,    \"view\": {\"stroke\": null},    \"layer\": [      {        \"mark\": {          \"type\": \"text\",          \"align\": \"right\",          \"baseline\": \"middle\",          \"dx\": -130        },        \"encoding\": {          \"text\": {            \"field\": \"__2__\",            \"format\": \",.0f\",            \"type\": \"quantitative\",            \"aggregate\": \"sum\"          }        }      },      {        \"mark\": {          \"type\": \"text\",          \"align\": \"right\",          \"baseline\": \"middle\",          \"dx\": -80        },        \"encoding\": {          \"text\": {            \"field\": \"__3__\",            \"format\": \",.0f\",            \"type\": \"quantitative\",            \"aggregate\": \"sum\"          }        }      },      {        \"mark\": {          \"type\": \"area\",          \"interpolate\": \"natural\"        },        \"encoding\": {          \"x\": {            \"field\": \"__1__\",            \"type\": \"temporal\",            \"title\": null,            \"timeUnit\": \"yearmonth\",            \"axis\": {              \"format\": \"%b %y\",              \"orient\": \"top\"            }          },          \"y\": {            \"field\": \"__2__\",            \"type\": \"quantitative\",            \"aggregate\": \"sum\",            \"scale\": {\"zero\": true},            \"axis\": {              \"title\": null,              \"labels\": false,              \"ticks\": false            }          }        }      }    ]  },  \"resolve\": {\"scale\": {\"y\": \"shared\"}}}"
  },
  
  {
    "title": "The one with the boxplot",
    "url": "/posts/the-one-with-the-boxplot/",
    "categories": "",
    "tags": "deneb, powerbi, jitter, boxplot, wow2022, workout wednesday, tableau",
    "date": "2022-04-05 00:00:00 +0200",
    





    "snippet": "This chart was a Tableau Workout Wednesday challenge. Week 12 Tableau Workout Wednesday&nbsp;&nbsp;DatasetThe dataset is part of the presentation on the Workout Wednesday challenge above.&nbsp;&nbsp;Additional fields createdJitterJitter = RANDBETWEEN(2,18)&nbsp;&nbsp;Fields used  Playoffs  Team  Name  Age  Jitter&nbsp;&nbsp;SpecificationThe specification in a nutshell:hconcat   hconcat1 : filter : Playoffs == 'Playoff Teams'  * layer    * boxplot mark    * rect mark (for the darker section)    * point mark  hconcat2 : filter : Playoffs != 'Playoff Teams'  * layer      * boxplot mark      * rect mark      * point mark&nbsp;&nbsp;ConfigSee the JSON template section of this post.&nbsp;&nbsp;External references  Box Plot - used as the starting point.  Horizontal Concatenation - used to combine the two sections.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.1.0.0\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": false,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the boxplot\",      \"description\": \"A jitter boxplot based upon the Tableau Workout Wednesday\",      \"author\": \"Thys van der Westhuizen\",      \"uuid\": \"83e13918-3550-4893-b652-bd806f9581f3\",      \"generated\": \"2022-04-05T19:42:49.623Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"LevelA\",        \"description\": \"First level of a hierarchy\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"LevelB\",        \"description\": \"Second level of a hierarchy \",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"LevelC\",        \"description\": \"Third level of a hierarchy\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__3__\",        \"name\": \"Measure\",        \"description\": \"Measure that is being evaluated\",        \"type\": \"numeric\",        \"kind\": \"measure\"      },      {        \"key\": \"__4__\",        \"name\": \"Jitter\",        \"description\": \"Random number between 2 and 18 (Range for the xOffset is between 0 and 20 to give a bit of padding for the individual items)\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"concat\": {\"spacing\": -10},    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 10,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"red\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 12,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"transform\": [    {      \"calculate\": \"datum['__1__'] + ' | ' + datum['__3__']\",      \"as\": \"__tooltip2__\"    }  ],  \"hconcat\": [    {      \"title\": {        \"text\": \"Playoff Teams\",        \"dx\": 0      },      \"width\": {\"step\": 55},      \"height\": 350,      \"transform\": [        {          \"filter\": \"datum['__0__'] == 'Playoff Teams'\"        }      ],      \"layer\": [        {          \"mark\": {            \"type\": \"boxplot\",            \"extent\": \"min-max\",            \"size\": 25,            \"ticks\": {\"size\": 25},            \"box\": {\"fill\": \"#dfdfdf\"}          },          \"encoding\": {            \"x\": {              \"field\": \"__1__\",              \"type\": \"nominal\",              \"axis\": {                \"orient\": \"top\",                \"labelPadding\": -20,                \"title\": null,                \"grid\": true,                \"gridColor\": \"#C8C6C4\",                \"labelAngle\": 0,                \"ticks\": true,                \"tickSize\": 30,                \"tickColor\": \"#C8C6C4\",                \"tickBand\": \"extent\"              }            },            \"y\": {              \"field\": \"__3__\",              \"type\": \"quantitative\",              \"scale\": {                \"domain\": [18, 40]              },              \"axis\": {                \"tickCount\": 10,                \"titleAngle\": 0,                \"titleY\": -10              }            }          }        },        {          \"mark\": {            \"type\": \"rect\",            \"width\": 25,            \"color\": \"#b8b9b9\"          },          \"encoding\": {            \"x\": {              \"field\": \"__1__\",              \"type\": \"nominal\"            },            \"y\": {              \"aggregate\": \"median\",              \"field\": \"__3__\",              \"type\": \"quantitative\"            },            \"y2\": {              \"aggregate\": \"q1\",              \"field\": \"__3__\"            },            \"opacity\": {\"value\": 1}          }        },        {          \"mark\": {            \"type\": \"point\",            \"size\": 20,            \"tooltip\": true          },          \"encoding\": {            \"x\": {              \"field\": \"__1__\",              \"type\": \"nominal\",              \"axis\": {                \"orient\": \"top\",                \"labelPadding\": -20,                \"title\": null,                \"grid\": true,                \"gridColor\": \"#C8C6C4\",                \"labelAngle\": 0,                \"ticks\": true,                \"tickSize\": 30,                \"tickColor\": \"#C8C6C4\",                \"tickBand\": \"extent\"              }            },            \"y\": {              \"field\": \"__3__\",              \"type\": \"quantitative\"            },            \"xOffset\": {              \"field\": \"__4__\",              \"type\": \"quantitative\",              \"scale\": {                \"domain\": [0, 20]              }            },            \"color\": {              \"value\": \"#4e79a7\"            },            \"tooltip\": [              {                \"field\": \"__2__\",                \"title\": \"Player\"              },              {                \"field\": \"__tooltip2__\",                \"title\": \" \"              }            ]          }        }      ]    },    {      \"view\": {\"fill\": \"#f9f9f9\"},      \"title\": {        \"text\": \"No Playoffs\",        \"dx\": 0      },      \"width\": {\"step\": 55},      \"transform\": [        {          \"filter\": \"datum['__0__'] != 'Playoff Teams'\"        }      ],      \"layer\": [        {          \"mark\": {            \"type\": \"boxplot\",            \"extent\": \"min-max\",            \"size\": 25,            \"ticks\": {\"size\": 25},            \"box\": {\"fill\": \"#dfdfdf\"}          },          \"encoding\": {            \"x\": {              \"field\": \"__1__\",              \"type\": \"nominal\",              \"axis\": {                \"orient\": \"top\",                \"labelPadding\": -20,                \"title\": null,                \"grid\": true,                \"gridColor\": \"#C8C6C4\",                \"labelAngle\": 0,                \"ticks\": true,                \"tickSize\": 30,                \"tickColor\": \"#C8C6C4\",                \"tickBand\": \"extent\"              }            },            \"y\": {              \"field\": \"__3__\",              \"type\": \"quantitative\",              \"scale\": {                \"domain\": [18, 40]              },              \"axis\": {                \"title\": null,                \"labels\": false,                \"tickCount\": 10              }            }          }        },        {          \"mark\": {            \"type\": \"rect\",            \"width\": 25,            \"color\": \"#b8b9b9\"          },          \"encoding\": {            \"x\": {              \"field\": \"__1__\",              \"type\": \"nominal\"            },            \"y\": {              \"aggregate\": \"median\",              \"field\": \"__3__\",              \"type\": \"quantitative\"            },            \"y2\": {              \"aggregate\": \"q1\",              \"field\": \"__3__\"            },            \"opacity\": {\"value\": 1}          }        },        {          \"mark\": {            \"type\": \"point\",            \"size\": 20,            \"tooltip\": true          },          \"encoding\": {            \"x\": {              \"field\": \"__1__\",              \"type\": \"nominal\",              \"axis\": {                \"orient\": \"top\",                \"labelPadding\": -20,                \"title\": null,                \"grid\": true,                \"gridColor\": \"#C8C6C4\",                \"labelAngle\": 0,                \"ticks\": true,                \"tickSize\": 30,                \"tickColor\": \"#C8C6C4\",                \"tickBand\": \"extent\"              }            },            \"y\": {              \"field\": \"__3__\",              \"type\": \"quantitative\"            },            \"xOffset\": {              \"field\": \"__4__\",              \"type\": \"quantitative\",              \"scale\": {                \"domain\": [0, 20]              }            },            \"color\": {              \"value\": \"#4e79a7\"            },            \"tooltip\": [              {                \"field\": \"__2__\",                \"title\": \"Player\"              },              {                \"field\": \"__tooltip2__\",                \"title\": \" \"              }            ]          }        }      ]    }  ],  \"resolve\": {\"scale\": {\"y\": \"shared\"}}}&lt;!– end of json template&gt;"
  },
  
  {
    "title": "The one with the timeline",
    "url": "/posts/the-one-with-the-timeline/",
    "categories": "",
    "tags": "deneb, powerbi, timeline, dumbbell, wow2022, workout wednesday",
    "date": "2022-04-04 00:00:00 +0200",
    





    "snippet": "This chart was part of my submission for the Week 13 Workout Wednesday  challenge. I did not think it necessary to add a post for this, but I was requested to add it - so here goes.&nbsp;&nbsp;DatasetThe dataset is part of the presentation on the Workout Wednesday challenge. The data was entered into a table using Power Query enter data. The table had two columns, the description and a date column. I added three entries to it, namely the project start, Today’s date and the Expected end date. I added an index field to allow me to filter the dataset in Deneb. Index was based upon the date sequence.  You can use the now() function in Vega-lite to add an additional field.&nbsp;&nbsp;Additional fields createdNone&nbsp;&nbsp;Fields used  Description  Date  Index&nbsp;&nbsp;Specification  I learned that you can export the JSON as a template - never to old to learn something new!The specification in a nutshell:Layer  * point marks for all dates in gray scale  * line connecting all dates in gray scale  Layer     * point marks for start date and today's date in blue color    * line connecting the two dates in blue color&nbsp;&nbsp;ConfigSee the JSON template section of this post.&nbsp;&nbsp;External references  Ranged Dot Plot - used as the starting point.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor &nbsp;&nbsp;JSON template{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"usermeta\": {    \"deneb\": {      \"build\": \"1.1.0.0\",      \"metaVersion\": 1,      \"provider\": \"vegaLite\",      \"providerVersion\": \"5.2.0\"    },    \"interactivity\": {      \"tooltip\": true,      \"contextMenu\": true,      \"selection\": true,      \"dataPointLimit\": 50    },    \"information\": {      \"name\": \"The one with the timeline\",      \"description\": \"A small template to generate a timeline plot, with a start and end date, and current tracking date.\",      \"author\": \"Thys van der Westhuizen\",      \"uuid\": \"9007c352-fff4-49d5-975b-1cbc9a4e4d96\",      \"generated\": \"2022-04-04T15:38:39.046Z\"    },    \"dataset\": [      {        \"key\": \"__0__\",        \"name\": \"Description\",        \"description\": \"Describe the date value (i.e. Project start date)\",        \"type\": \"text\",        \"kind\": \"column\"      },      {        \"key\": \"__1__\",        \"name\": \"Date\",        \"description\": \"Dates that you want to show on timeline\",        \"type\": \"dateTime\",        \"kind\": \"column\"      },      {        \"key\": \"__2__\",        \"name\": \"Index\",        \"description\": \"Sort Id\",        \"type\": \"numeric\",        \"kind\": \"measure\"      }    ]  },  \"config\": {    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"domainColor\": \"#eee\",      \"tickColor\": \"#eee\",      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#ddd\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 12,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 12,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    }  },  \"data\": {\"name\": \"dataset\"},  \"encoding\": {    \"x\": {      \"field\": \"__1__\",      \"type\": \"temporal\",      \"axis\": {        \"title\": null,        \"tickCount\": 8,        \"labelAlign\": \"left\",        \"labelExpr\": \"[timeFormat(datum.value, '%b'), timeFormat(datum.value, '%m') == '01' ? timeFormat(datum.value, '%Y') : '']\",        \"labelOffset\": 4,        \"labelPadding\": -24,        \"tickSize\": 30,        \"gridDash\": {          \"condition\": {            \"test\": {              \"field\": \"value\",              \"timeUnit\": \"month\",              \"equal\": 1            },            \"value\": []          },          \"value\": [2, 2]        },        \"tickDash\": {          \"condition\": {            \"test\": {              \"field\": \"value\",              \"timeUnit\": \"month\",              \"equal\": 1            },            \"value\": []          },          \"value\": [2, 2]        }      }    },    \"y\": {      \"datum\": 10,      \"type\": \"nominal\",      \"axis\": null    }  },  \"layer\": [    {      \"mark\": {\"type\": \"point\"},      \"encoding\": {        \"size\": {\"value\": 200},        \"opacity\": {\"value\": 1},        \"color\": {\"value\": \"#cccccc\"}      }    },    {      \"mark\": \"line\",      \"encoding\": {        \"color\": {\"value\": \"#cccccc\"}      }    },    {      \"transform\": [        {          \"filter\": \"datum['__2__'] != 3\"        }      ],      \"layer\": [        {          \"mark\": \"line\",          \"encoding\": {            \"color\": {              \"value\": \"#4883b2\"            }          }        },        {          \"mark\": {\"type\": \"point\"},          \"encoding\": {            \"size\": {\"value\": 200},            \"color\": {              \"value\": \"#4883b2\"            },            \"opacity\": {\"value\": 1}          }        }      ]    }  ]}&lt;!– end of json template&gt;"
  },
  
  {
    "title": "The one with the bullet chart.",
    "url": "/posts/the-one-with-the-bullet-chart/",
    "categories": "",
    "tags": "deneb, powerbi, bullet chart, wow2022, workout wednesday",
    "date": "2022-04-01 00:00:00 +0200",
    





    "snippet": "This chart was part of Week 13 Workout Wednesday  challenge. For more information on the bullet chart, please see the Data Visualisation Catalogue for more information on the usage of the chart type.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdOnly one additional field created in Power Query. The MaxValue for each metric. This will be used as the background bar of the bullet chart &nbsp;&nbsp;Fields used  Metric  Actual  Previous  Goal  MaxValue&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"facet\": {    \"row\": {      \"field\": \"Metric\",      \"sort\": {        \"field\": \"Metric Order\",        \"order\": \"descending\"      },      \"type\": \"ordinal\",      \"header\": {        \"labelAngle\": 0,        \"title\": \"\",        \"labelAlign\": \"left\",        \"labelPadding\": 30      }    }  },  \"spacing\": 20,  \"spec\": {    \"encoding\": {      \"x\": {        \"type\": \"quantitative\",        \"scale\": {\"nice\": false},        \"title\": null,        \"axis\": {\"format\": \".2s\"}      },      \"tooltip\": [        {          \"field\": \"Actual\",          \"title\": \"Current Actual\"        },        {\"field\": \"Goal\"},        {          \"field\": \"Previous\",          \"title\": \"Previous Actual\"        }      ]    },    \"layer\": [      {        \"transform\": [          {            \"calculate\": \"datum.MaxValue * 1.05\",            \"as\": \"__length__\"          }        ],        \"mark\": {          \"type\": \"bar\",          \"color\": \"#efefef\",          \"size\": 30        },        \"encoding\": {          \"x\": {\"field\": \"__length__\"}        }      },      {        \"mark\": {          \"type\": \"bar\",          \"color\": \"#a7c0d6\",          \"size\": 20        },        \"encoding\": {          \"x\": {\"field\": \"Previous\"}        }      },      {        \"mark\": {          \"type\": \"bar\",          \"color\": \"#4d7bbc\",          \"size\": 10        },        \"encoding\": {          \"x\": {\"field\": \"Actual\"}        }      },      {        \"mark\": {          \"type\": \"tick\",          \"color\": \"black\",          \"size\": 20        },        \"encoding\": {          \"x\": {\"field\": \"Goal\"}        }      }    ]  },  \"resolve\": {    \"scale\": {\"x\": \"independent\"}  }}&nbsp;&nbsp;Config{    \"autosize\": {      \"type\": \"fit\",      \"contains\": \"padding\"    },    \"view\": {\"stroke\": \"transparent\"},    \"font\": \"Segoe UI\",    \"arc\": {},    \"area\": {      \"line\": true,      \"opacity\": 0.6    },    \"bar\": {},    \"line\": {      \"strokeWidth\": 3,      \"strokeCap\": \"round\",      \"strokeJoin\": \"round\"    },    \"path\": {},    \"point\": {      \"filled\": true,      \"size\": 75    },    \"rect\": {},    \"shape\": {},    \"symbol\": {      \"strokeWidth\": 1.5,      \"size\": 50    },    \"text\": {      \"font\": \"Segoe UI\",      \"fontSize\": 12,      \"fill\": \"#605E5C\"    },    \"axis\": {      \"ticks\": false,      \"grid\": false,      \"domain\": false,      \"labelColor\": \"#605E5C\",      \"labelFontSize\": 12,      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleColor\": \"#252423\",      \"titleFontSize\": 16,      \"titleFontWeight\": \"normal\"    },    \"axisQuantitative\": {      \"tickCount\": 3,      \"grid\": true,      \"gridColor\": \"#C8C6C4\",      \"gridDash\": [1, 5],      \"labelFlush\": false    },    \"axisBand\": {\"tickExtra\": true},    \"axisX\": {\"labelPadding\": 5},    \"axisY\": {\"labelPadding\": 10},    \"header\": {      \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",      \"titleFontSize\": 16,      \"titleColor\": \"#252423\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\"    },    \"legend\": {      \"titleFont\": \"Segoe UI\",      \"titleFontWeight\": \"bold\",      \"titleColor\": \"#605E5C\",      \"labelFont\": \"Segoe UI\",      \"labelFontSize\": 13.333333333333332,      \"labelColor\": \"#605E5C\",      \"symbolType\": \"circle\",      \"symbolSize\": 75    },    \"tick\": {\"thickness\": 2}  }&nbsp;&nbsp;External references  Bullet Chart - used as the starting point.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor"
  },
  
  {
    "title": "Getting Started with Deneb",
    "url": "/posts/getting-started-with-deneb/",
    "categories": "Deneb",
    "tags": "deneb, powerbi, getting started",
    "date": "2022-03-24 00:00:00 +0200",
    





    "snippet": "What is Deneb?As quoted on Deneb’s site, Deneb is … a certified custom visual for Microsoft Power BI….It’s developed by Daniel Marsh-Patrick. The custom visual is build on Vega and Vega-lite  visual language.Please visit the Deneb website. Here you will find more information on how to get started with this custom visual.Why do I use Deneb?Deneb is a lot of fun to work with. I love to try new visuals that wasn’t possible in PowerBI before. Deneb provides you with the power to setup your visuals exactly like you can imagine them.Other resourcesThere is a lot of very good resources to assist you with getting to grips with Deneb.  The Deneb site metioned above.  Kerry Kolosko’s blogThe following youtube channels  Hoosier BI  PowerBI Guy  Jose Rafael Escalante (Learn Spanish while learning to work with Deneb👍)The following template sites  Enterprise DNA Deneb Showcase  PowerBI-tips Deneb Templates  Shad Frigui’s Vega-Lite repository"
  },
  
  {
    "title": "The one with the bar chart.",
    "url": "/posts/2-bar-chart/",
    "categories": "",
    "tags": "workout wednesday, deneb, powerbi, actual, budget, bar, wow2022",
    "date": "2022-03-22 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Workout Wednesday PowerBI  challenge.I am only going to provide the specification and configuration for the Cost Group bar chart. The others is similar in their approach.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdActual CMActual CM = VAR __previousMonth =CALCULATE (    [Actual],    PREVIOUSMONTH('Date'[Date]))VAR __currentMonth =[Actual]VAR __month =__currentMonth - __previousMonthRETURN    __monthPlan CMPlan CM = VAR __previousMonth =CALCULATE (    [Plan],    PREVIOUSMONTH('Date'[Date]))VAR __currentMonth =[Plan]VAR __month =__currentMonth - __previousMonthRETURN    __monthVar MOVar MO = [Actual CM] - [Plan CM]Var MO%Var MO % = DIVIDE ( [Var MO], [Plan CM] )&nbsp;&nbsp;Fields used  [Cost Element Group] AS group  [Var MO %] AS diff&nbsp;&nbsp;Specification{  \"title\": {    \"text\": \"Variance per Cost Group\",    \"font\": \"Segoe UI\",    \"dx\": -55,    \"fontSize\": 16  },  \"transform\": [    {      \"calculate\": \"upper(datum.group)\",      \"as\": \"grp\"    }  ],  \"encoding\": {    \"y\": {      \"field\": \"grp\",      \"type\": \"nominal\",      \"sort\": {        \"op\": \"mean\",        \"field\": \"diff\",        \"order\": \"descending\"      },      \"axis\": {        \"title\": null,        \"labelPadding\": 55      }    }  },  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"mark\": {\"type\": \"bar\"},      \"encoding\": {        \"x\": {          \"field\": \"diff\",          \"type\": \"quantitative\",          \"axis\": null        },        \"color\": {          \"condition\": {            \"test\": \"datum.diff &lt; 0\",            \"value\": \"#bda94e\"          },          \"value\": \"#6d98bd\"        },        \"tooltip\": [          {            \"field\": \"group\",            \"type\": \"nominal\",            \"title\": \"Group\"          },          {            \"field\": \"diff\",            \"type\": \"quantitative\",            \"title\": \"% Variance\"          }        ]      }    },    {      \"mark\": {        \"type\": \"text\",        \"align\": {          \"expr\": \"datum.diff &lt; 0 ? 'right' : 'left'\"        },        \"dx\": {          \"expr\": \"datum.diff &lt; 0 ? -2 : 2\"        }      },      \"encoding\": {        \"text\": {          \"field\": \"diff\",          \"type\": \"quantitative\",          \"format\": \".1%\"        },        \"x\": {          \"field\": \"diff\",          \"type\": \"quantitative\",          \"axis\": null        },        \"color\": {          \"condition\": {            \"test\": \"datum.diff &lt; 0\",            \"value\": \"#bda94e\"          },          \"value\": \"#6d98bd\"        }      }    }  ]}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"line\": {    \"strokeWidth\": 3,    \"strokeCap\": \"round\",    \"strokeJoin\": \"round\"  },  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"text\": {    \"font\": \"Segoe UI\",    \"fontSize\": 12,    \"fill\": \"#605E5C\"  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 3,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"circle\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Horizontal Bar Chart with Negative Values and Labels - used as the starting point.  Conditional KPI Cards with Deneb - I used Kerry’s logic for coloring positive and negative values.&nbsp;&nbsp;View chartDue to the data being only made available via the PowerBI application, no chart view is available. "
  },
  
  {
    "title": "The one with the card visual.",
    "url": "/posts/1-card-visual/",
    "categories": "",
    "tags": "workout wednesday, deneb, powerbi, actual, budget, card, wow2022",
    "date": "2022-03-22 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Workout Wednesday PowerBI  challenge.I am only going to provide the specification and configuration for the Actual Spend card visual. The others is similar in their approach.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdActual CMActual CM = VAR __previousMonth =CALCULATE (    [Actual],    PREVIOUSMONTH('Date'[Date]))VAR __currentMonth =[Actual]VAR __month =__currentMonth - __previousMonthRETURN    __monthFormatted ActualFormatted Actual = VAR __totalActual =CALCULATE ( [Actual] )RETURN FORMAT(__totalActual/1000000,\"$#.0M\")format_ACTformat_ACT = VAR __Arrow = IF ( [Var MO %] &gt; 0, UNICHAR(9650), UNICHAR(9660) )VAR __increaseTxt =IF ( [Var MO %] &gt; 0, \"over Budget\", \"under Budget\" )VAR __Difference = IF ( [Var MO %] &gt; 0 , [Var MO %], -1 * [Var MO %] )VAR __Percentage =FORMAT ( __Difference, \"#.0%\")RETURN \"Actual \" &amp; __Percentage &amp; \" \" &amp; __Arrow &amp; \" \" &amp; __increaseTxt&nbsp;&nbsp;Fields used  Date AS date  [Actual CM] AS actual  [Formatted Actual] AS format_actual  [format_ACT] AS format_ACT&nbsp;&nbsp;Specification{  \"title\": {    \"text\": \"Actual Spend\",    \"font\": \"Segoe UI\",    \"fontSize\": 16  },  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"mark\": {        \"type\": \"bar\",        \"width\": 15      },      \"encoding\": {        \"color\": {\"value\": \"#6d98bd\"},        \"x\": {          \"field\": \"date\",          \"type\": \"temporal\",          \"axis\": null        },        \"y\": {          \"field\": \"actual\",          \"type\": \"quantitative\",          \"axis\": null        },        \"tooltip\": [          {            \"field\": \"date\",            \"type\": \"temporal\",            \"timeUnit\": \"month\",            \"title\": \"Month\"          },          {            \"field\": \"actual\",            \"type\": \"quantitative\",            \"title\": \"Actual\",            \"format\": \"$.3~s\"          },          {            \"field\": \"format_ACT\",            \"title\": \"%\"          }        ]      }    },    {      \"mark\": {        \"type\": \"text\",        \"xOffset\": -110,        \"yOffset\": 0,        \"angle\": 0,        \"baseline\": \"bottom\",        \"font\": \"sans-serif\",        \"fontSize\": 18,        \"fontStyle\": \"normal\",        \"fontWeight\": \"normal\",        \"limit\": 0      },      \"encoding\": {        \"x\": {          \"aggregate\": \"max\",          \"field\": \"date\",          \"type\": \"temporal\"        },        \"y\": {          \"aggregate\": {            \"argmax\": \"date\"          },          \"field\": \"actual\",          \"type\": \"quantitative\"        },        \"text\": {          \"aggregate\": {            \"argmax\": \"date\"          },          \"field\": \"format_actual\"        }      }    }  ]}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"line\": {    \"strokeWidth\": 3,    \"strokeCap\": \"round\",    \"strokeJoin\": \"round\"  },  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"text\": {    \"font\": \"Segoe UI\",    \"fontSize\": 12,    \"fill\": \"#605E5C\"  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 3,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"circle\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Bar Charts - used as the starting point.  Conditional KPI Cards with Deneb - Kerry is a great inspiration on her use of the Deneb custom visual.For this chart I used her logic for coloring positive and negative values.&nbsp;&nbsp;View chartDue to the data being only made available via the PowerBI application, no chart view is available. "
  },
  
  {
    "title": "The one with the matrix.",
    "url": "/posts/matrix/",
    "categories": "",
    "tags": "workout wednesday, deneb, powerbi, matrix, wow2018, tableau",
    "date": "2022-03-19 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2018  challenge.  I was not able to add the GRAND TOTAL column to the matrix, maybe someone can provide a solution to that.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above. Added a calculated tableDateDate = VAR __StartYear = YEAR ( MIN ( Orders[Order Date] ) )VAR __EndYear = YEAR ( MAX ( Orders[Order Date] ) )VAR __StartDate = DATE ( __StartYear, 1, 1 )VAR __EndDate = DATE ( __EndYear, 12, 31 )VAR __Calendar =     CALENDAR ( __StartDate, __EndDate )RETURNADDCOLUMNS (    __Calendar,    \"Month\", FORMAT (  EOMONTH ( [Date], 0 ), \"MMM\" ),    \"Monthend_Date\", EOMONTH ( [Date], 0 ),     \"Year\", YEAR ( [Date] ),    \"MonthSortId\", MONTH ( [Date] ))&nbsp;&nbsp;Additional fields createdMinMaxMinMax = VAR __Table1 =    CALCULATETABLE(        ADDCOLUMNS (             SUMMARIZE ( 'Orders', Products[Sub-Category] ,Dates[Month]),            \"@SalesAmt\", [Sales]        ),        ALLSELECTED(Products[Sub-Category])    )VAR MinValue = MINX ( __Table1, [@SalesAmt] )VAR MaxValue = MAXX ( __Table1, [@SalesAmt] )VAR CurrentValue = [Sales]VAR Result =    SWITCH (        TRUE,        CurrentValue = MinValue, 1, -- 1 for MIN        CurrentValue = MaxValue, 2, -- 2 for MAX        0    )RETURN    Result&nbsp;&nbsp;Fields used  Sub-Category  Sales  Month  MonthSortId  MinMax&nbsp;&nbsp;Specification{  \"height\": {\"step\": 23},  \"data\": {\"name\": \"dataset\"},  \"encoding\": {    \"y\": {      \"field\": \"Sub-Category\",      \"type\": \"nominal\",      \"axis\": {        \"title\": null,        \"grid\": true,        \"gridColor\": \"#cbcbcb\",        \"gridDash\": [2, 2],        \"tickBand\": \"extent\",        \"ticks\": true,        \"tickDash\": [2, 2],        \"tickColor\": \"#cbcbcb\",        \"tickSize\": 60,        \"labelFontSize\": 10,        \"labelPadding\": -50      },      \"sort\": {        \"op\": \"sum\",        \"field\": \"Sales\",        \"order\": \"descending\"      }    },    \"x\": {      \"field\": \"Month\",      \"type\": \"nominal\",      \"sort\": {\"field\": \"MonthSortId\"},      \"axis\": {        \"title\": null,        \"orient\": \"top\",        \"labelAngle\": 0,        \"grid\": true,        \"gridColor\": \"#cbcbcb\",        \"gridDash\": [2, 2],        \"tickBand\": \"extent\",        \"ticks\": true,        \"tickDash\": [2, 2],        \"tickColor\": \"#cbcbcb\",        \"tickSize\": 30,        \"labelFontSize\": 10,        \"labelPadding\": -25      }    }  },  \"layer\": [    {      \"mark\": {        \"type\": \"rect\",        \"tooltip\": true      },      \"encoding\": {        \"color\": {          \"field\": \"MinMax\",          \"legend\": null,          \"scale\": {            \"domain\": [0, 1, 2],            \"range\": [              \"white\",              \"#ba3b5e\",              \"#317698\"            ]          }        }      }    },    {      \"mark\": {        \"type\": \"text\",        \"fontSize\": 9,        \"align\": \"right\",        \"xOffset\": 15      },      \"encoding\": {        \"text\": {          \"aggregate\": \"sum\",          \"field\": \"Sales\",          \"format\": \"$,.0f\"        },        \"color\": {          \"field\": \"MinMax\",          \"legend\": null,          \"scale\": {            \"domain\": [0, 1, 2],            \"range\": [              \"black\",              \"white\",              \"white\"            ]          }        }      }    }  ],  \"resolve\": {    \"scale\": {\"color\": \"independent\"}  }}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"line\": {    \"strokeWidth\": 3,    \"strokeCap\": \"round\",    \"strokeJoin\": \"round\"  },  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"text\": {    \"font\": \"Segoe UI\",    \"fontSize\": 12,    \"fill\": \"#605E5C\"  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 3,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"circle\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Layering text over heatmap - used as the starting point.  Axis - Ticks - used for the label grid lines.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor "
  },
  
  {
    "title": "The one with the dumbbell chart.",
    "url": "/posts/dumbbell-chart/",
    "categories": "",
    "tags": "workout wednesday, deneb, powerbi, dumbbell, wow2018, tableau",
    "date": "2022-03-14 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2018  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdSalesSales = SUM ( 'Orders'[Sales] )&nbsp;&nbsp;Fields used  Category  Sub-Category  Region  Sales&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"spacing\": -8,  \"facet\": {    \"row\": {      \"field\": \"Category\",      \"header\": {        \"title\": null,        \"labelAlign\": \"left\",        \"labelAngle\": 0,        \"labelAnchor\": \"end\",        \"labelBaseline\": \"line-top\",        \"labelLineHeight\": 20,        \"labelFontSize\": 10      }    }  },  \"spec\": {    \"width\": 420,    \"layer\": [      {        \"mark\": {\"type\": \"rule\"},        \"encoding\": {          \"y\": {            \"field\": \"Sub-Category\",            \"type\": \"nominal\",            \"axis\": {              \"grid\": true,              \"gridColor\": \"#e0e0e0\",              \"ticks\": true,              \"tickColor\": \"#ddd\",              \"tickBand\": \"extent\",              \"tickSize\": 70,              \"title\": null,              \"labelFontSize\": 10,              \"labelPadding\": -60            }          },          \"x\": {            \"aggregate\": \"min\",            \"field\": \"Sales\",            \"type\": \"quantitative\",            \"axis\": {              \"grid\": true,              \"gridColor\": \"#c3c3c3\",              \"title\": \"Sales\",              \"labelFontSize\": 10,              \"format\": \"$~s\",              \"tickCount\": 5            }          },          \"x2\": {            \"aggregate\": \"max\",            \"field\": \"Sales\"          },          \"opacity\": {            \"condition\": {              \"test\": {                \"field\": \"__selected__\",                \"equal\": \"off\"              },              \"value\": 0.3            },            \"value\": 1          }        }      },      {        \"mark\": {          \"type\": \"point\",          \"tooltip\": true,          \"size\": 100,          \"stroke\": \"black\",          \"strokeWidth\": 0.5        },        \"encoding\": {          \"y\": {            \"field\": \"Sub-Category\",            \"type\": \"nominal\"          },          \"x\": {            \"aggregate\": \"sum\",            \"field\": \"Sales\",            \"type\": \"quantitative\"          },          \"tooltip\": [            {              \"field\": \"Sales\",              \"type\": \"quantitative\",              \"format\": \"$,.0f\"            },            {              \"field\": \"Region\",              \"type\": \"nominal\"            },            {              \"field\": \"Sub-Category\",              \"type\": \"nominal\"            },            {              \"field\": \"Category\",              \"type\": \"nominal\"            }          ],          \"color\": {            \"field\": \"Region\",            \"legend\": {              \"title\": null,              \"orient\": \"top\",              \"symbolSize\": 140,              \"symbolStrokeWidth\": 0.5,              \"symbolType\": \"square\"            },            \"scale\": {              \"domain\": [                \"Central\",                \"East\",                \"South\",                \"West\"              ],              \"range\": [                \"#03a3c8\",                \"#bcbf00\",                \"#f73960\",                \"#4d7bbc\"              ]            }          },          \"opacity\": {            \"condition\": {              \"test\": {                \"field\": \"__selected__\",                \"equal\": \"off\"              },              \"value\": 0.3            },            \"value\": 1          }        }      }    ]  },  \"resolve\": {    \"scale\": {\"y\": \"independent\"}  }}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"line\": {    \"strokeWidth\": 3,    \"strokeCap\": \"round\",    \"strokeJoin\": \"round\"  },  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"text\": {    \"font\": \"Segoe UI\",    \"fontSize\": 12,    \"fill\": \"#605E5C\"  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 3,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"circle\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Ranged Dot Plot - used as the starting point.  Tooltip - used to generate the tooltip.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor "
  },
  
  {
    "title": "The one with the other heatmap.",
    "url": "/posts/another-heat-map/",
    "categories": "Deneb",
    "tags": "workout wednesday, deneb, powerbi, heatmap, wow2018, tableau",
    "date": "2022-03-12 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2018  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields created  First OrderFirst Order = CALCULATE (    MIN('Orders'[Order Date] ),    KEEPFILTERS( 'Customers' ))  CohortCohort = VAR __Year = YEAR ( 'Customers'[First Order] )VAR __Quarter = QUARTER( 'Customers'[First Order] )RETURN__Year &amp; \" - Q\" &amp; __Quarter  User RetentionUser Retention = VAR __FirstOrder = LOOKUPVALUE( Customers[First Order], Customers[Customer ID], Orders[Customer ID] )VAR __OrderDate =Orders[Order Date]    VAR __DateDiff =DATEDIFF ( __FirstOrder, __OrderDate, QUARTER )RETURN__DateDiff  Retention%Retention% = VAR __TotalCustomers =CALCULATE(    [# Customers],    ALL ( Orders[User Retention] ))VAR __CustomersRetained =[# Customers]RETURN    DIVIDE( __CustomersRetained, __TotalCustomers )&nbsp;&nbsp;Fields used  Cohort  UserRetention  Retention%&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"transform\": [    {      \"calculate\": \"'Q ' + datum.UserRetention\",      \"as\": \"txtLabel\"    }  ],  \"encoding\": {    \"x\": {      \"field\": \"txtLabel\",      \"type\": \"ordinal\",      \"sort\": {        \"field\": \"UserRetention\"      },      \"axis\": {        \"labelAngle\": 0,        \"labelFontSize\": 11,        \"title\": \"User Retention\",        \"titleFontSize\": 13,        \"orient\": \"top\"      }    },    \"y\": {      \"field\": \"Cohort\",      \"axis\": {        \"titleAngle\": 0,        \"labelFontSize\": 11,        \"titleFontSize\": 13,        \"titleX\": -40,        \"titleY\": -5      },      \"type\": \"ordinal\"    }  },  \"layer\": [    {      \"mark\": {\"type\": \"rect\"},      \"encoding\": {        \"color\": {          \"field\": \"Retention%\",          \"type\": \"quantitative\",          \"legend\": null,          \"scale\": {            \"scheme\": \"yellowgreenblue\"          }        }      }    },    {      \"mark\": {        \"type\": \"text\",        \"fontSize\": 10      },      \"encoding\": {        \"text\": {          \"field\": \"Retention%\",          \"type\": \"quantitative\",          \"format\": \".0%\"        },        \"color\": {          \"condition\": {            \"test\": \"datum['Retention%'] &lt; .6\",            \"value\": \"black\"          },          \"value\": \"white\"        }      }    }  ]}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"line\": {    \"strokeWidth\": 3,    \"strokeCap\": \"round\",    \"strokeJoin\": \"round\"  },  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"text\": {    \"font\": \"Segoe UI\",    \"fontSize\": 12,    \"fill\": \"#605E5C\"  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 3,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"circle\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Layering text over heatmap - used as the starting point.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor"
  },
  
  {
    "title": "The one with the gantt chart.",
    "url": "/posts/gantt-chart/",
    "categories": "Deneb",
    "tags": "workout wednesday, deneb, powerbi, gantt chart, wow2022",
    "date": "2022-03-05 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the PowerBI Workout Wednesday 2022  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdNone&nbsp;&nbsp;Fields used  StartDate  EndDate  Project  Project Category  Stage&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"mark\": {        \"type\": \"bar\",        \"cornerRadius\": 25      },      \"encoding\": {        \"x\": {          \"field\": \"StartDate\",          \"type\": \"temporal\"        },        \"y\": {          \"field\": \"Project\",          \"type\": \"ordinal\",          \"sort\": {            \"field\": \"Project Category\"          },          \"title\": null,          \"axis\": {\"labels\": true}        },        \"x2\": {\"field\": \"EndDate\"},        \"color\": {          \"field\": \"Stage\",          \"type\": \"ordinal\",          \"scale\": {            \"domain\": [              \"Execute\",              \"Plan\",              \"Ideate\"            ],            \"range\": [              \"#bea948\",              \"#6c98be\",              \"#f1d555\"            ]          }        }      }    },    {      \"mark\": {\"type\": \"text\"},      \"encoding\": {        \"x\": {          \"field\": \"StartDate\",          \"type\": \"temporal\",          \"title\": \"Month\"        },        \"y\": {          \"field\": \"Project\",          \"type\": \"ordinal\",          \"title\": null,          \"axis\": {\"labels\": true}        }      }    },    {      \"transform\": [        {          \"calculate\": \"now()\",          \"as\": \"today\"        }      ],      \"mark\": {        \"type\": \"rule\",        \"stroke\": \"firebrick\",        \"strokeWidth\": 0.5,        \"strokeDash\": [5, 5]      },      \"encoding\": {        \"x\": {          \"field\": \"today\",          \"type\": \"temporal\"        }      }    },    {      \"transform\": [        {          \"calculate\": \"now()\",          \"as\": \"today\"        }      ],      \"mark\": {        \"type\": \"text\",        \"stroke\": \"firebrick\",        \"strokeWidth\": 0.5,        \"strokeDash\": [5, 5],        \"dx\": 0,        \"dy\": -215      },      \"encoding\": {        \"x\": {          \"field\": \"today\",          \"type\": \"temporal\"        },        \"text\": {          \"field\": \"today\",          \"aggregate\": \"min\",          \"type\": \"temporal\"        }      }    }  ]}&nbsp;&nbsp;Config  Deneb was updated to v1.1, which increased the config settings, so most of these settings was as per default.{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"line\": {    \"strokeWidth\": 3,    \"strokeCap\": \"round\",    \"strokeJoin\": \"round\"  },  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"text\": {    \"font\": \"Segoe UI\",    \"fontSize\": 12,    \"fill\": \"#605E5C\"  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 3,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"circle\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Gantt Chart (Ranged Bar Marks) - used as the starting point.  Bar Mark Properties - played around with the cornerRadius.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor"
  },
  
  {
    "title": "The one with the stacked area chart.",
    "url": "/posts/area-chart/",
    "categories": "Deneb",
    "tags": "workout wednesday, deneb, powerbi, stacked area chart, wow2018, tableau",
    "date": "2022-03-01 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2018challenge. I wasn’t able to match it exactly, but came pretty close. The chart has a date slicer for the start date of the month.  There’s more than one way to skin a cat - so please let me know if you have a different solution.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above. I’ve added two calculated tables.DateDate = VAR __minYear = 2014 //YEAR ( MIN ( Sales[Order Date] ) )VAR __maxYear = 2017 //( MAX ( Sales[Order Date] ) )VAR __fiscalPeriodStart = 7VAR __startDate = DATE ( __minYear, 1, 1 )VAR __endDate = DATE ( __maxYear, 12, 31 )RETURNADDCOLUMNS (     CALENDAR( __startDate, __endDate ),    \"Year\", YEAR ( [Date] ),    \"Month\", MONTH ( [Date] ),    \"Monthend\", FORMAT ( EOMONTH( [Date], 0 ), \"mmm YYYY\" ),    \"MonthStart_Date\", STARTOFMONTH([Date]),    \"MonthEnd_Date\", EOMONTH([Date], 0),    \"MonthnYear\", FORMAT ( EOMONTH ( [Date], 0 ), \"yyyymm\" ) * 100,    \"FY\", \"FY \" &amp;       IF ( MONTH ([Date] ) &gt;= __fiscalPeriodStart, YEAR ( [Date] ) + 1, YEAR ( [Date] ) ),    \"MonthOffset\", DATEDIFF ( [Date], NOW (), MONTH ))Date Parameter(disconnected table to set the start of the financial year)Date Parameter = VAR __minYear = 2014 //YEAR ( MIN ( Sales[Order Date] ) )VAR __maxYear = 2017 //( MAX ( Sales[Order Date] ) )VAR __startDate = DATE ( __minYear, 1, 1 )VAR __endDate = DATE ( __maxYear+1, 1, 31 )RETURNFILTER (    ADDCOLUMNS (         CALENDAR( __startDate, __endDate ),        \"Day\", DAY ( [Date] ),        \"MonthOffset\", DATEDIFF( [Date], NOW(), MONTH )    ),    [Day] = 1    )&nbsp;&nbsp;Additional fields created3 Month rolling sales3 Month rolling sales = CALCULATE (    [TotalSales],    DATESINPERIOD (        'Date'[Date],        LASTDATE ( 'Date'[Date]),        -3,        MONTH    ))Selected DateSelectedDate = VAR __CheckFiltered =    ISFILTERED('Date Parameter'[Date] )VAR __Results =    SWITCH(        __CheckFiltered,         TRUE(), MIN('Date Parameter'[Date]),        DATE(2014,3,1)    )        RETURN    __ResultsShowDataShowData = VAR __Selected = [SelectedDate]RETURNSWITCH ( TRUE(),    MIN ( 'Date'[MonthStart_Date] ) &lt; __Selected, 0,    MIN ( 'Date'[MonthStart_Date] ) = __Selected, 1,    2)&nbsp;&nbsp;Fields used  [3 Month Rolling Sales] AS Sales  [MonthStart_Date] AS Month  [Category]  [SelectedDate]  [ShowData]&nbsp;&nbsp;Specification{  \"title\": {    \"text\":\"#Workout Wednesday\",    \"font\": \"Segoe UI Light\",    \"fontSize\": 25,    \"subtitle\": \"A retrospective on rolling three month sales\",    \"subtitleFontSize\": 16,    \"subtitleColor\": \"#8d8d8d\"    },  \"width\": 650,  \"height\": 430,  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"mark\": {        \"type\": \"area\",        \"tooltip\": true,        \"line\": {          \"strokeWidth\": 1,          \"stroke\": \"#A5A5A5\"        }      },      \"encoding\": {        \"x\": {          \"field\": \"Month\",          \"timeUnit\": \"yearmonth\"        },        \"y\": {          \"field\": \"Sales\",          \"aggregate\": \"sum\"        },        \"color\": {          \"field\": \"Category\",          \"type\": \"nominal\",          \"legend\": null,          \"scale\": {            \"range\": [\"#bcbcbc\"]          }        },        \"opacity\": {\"value\": 1}      }    },    {      \"transform\": [        {          \"filter\": {            \"field\": \"ShowData\",            \"lte\": 1          }        }      ],      \"mark\": {        \"type\": \"area\",        \"tooltip\": true,        \"line\": {          \"strokeWidth\": 0,          \"stroke\": \"#A5A5A5\"        }      },      \"encoding\": {        \"x\": {          \"field\": \"Month\",          \"timeUnit\": \"yearmonth\"        },        \"y\": {          \"field\": \"Sales\",          \"type\": \"quantitative\",          \"stack\": \"zero\",          \"axis\":          {            \"format\": \"$.2s\"          }        },        \"color\": {          \"field\": \"Category\",          \"type\": \"nominal\",          \"legend\": null,          \"scale\": {            \"domain\": [              \"Furniture\",              \"Office Supplies\",              \"Technology\"            ],            \"range\": [              \"#d2a5b8\",              \"#90c9b2\",              \"#d8d381\"            ]          }        },        \"opacity\": {\"value\": 1}      }    },    {      \"transform\": [        {          \"filter\": {            \"field\": \"ShowData\",            \"equal\": 1          }        },        {          \"calculate\": \"datum['Category'] + ' (' + format(datum['Sales'],'$.3s') + ')'\",          \"as\": \"labelTxt\"        }      ],      \"layer\": [        {          \"mark\": {            \"type\": \"text\",            \"font\": \"Calibri\",            \"align\": \"left\",            \"dy\": 1,            \"dx\": 3          },          \"encoding\": {            \"x\": {              \"aggregate\": \"max\",              \"field\": \"Month\",              \"timeUnit\": \"yearmonth\",              \"title\": \"Month\"            },            \"y\": {              \"field\": \"Sales\",              \"type\": \"quantitative\",              \"stack\": \"zero\",              \"title\": null            },            \"text\": {              \"field\": \"labelTxt\"            }          }        },        {          \"mark\": {            \"type\": \"rule\",            \"color\": \"#8d8d8d\",            \"strokeWidth\": 0.5,            \"strokeDash\": [2, 4]          },          \"encoding\": {            \"x\": {              \"field\": \"Month\",              \"timeUnit\": \"yearmonth\"            }          }        }      ]    }  ],  \"resolve\": {    \"scale\": {\"color\": \"independent\"}  }}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"view\": {\"stroke\": \"transparent\"},  \"font\": \"Segoe UI\",  \"arc\": {},  \"area\": {    \"line\": true,    \"opacity\": 0.6  },  \"bar\": {},  \"path\": {},  \"point\": {\"filled\": true, \"size\": 75},  \"rect\": {},  \"shape\": {},  \"symbol\": {    \"strokeWidth\": 1.5,    \"size\": 50  },  \"axis\": {    \"ticks\": false,    \"grid\": false,    \"domain\": false,    \"labelColor\": \"#605E5C\",    \"labelFontSize\": 12,    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleColor\": \"#252423\",    \"titleFontSize\": 16,    \"titleFontWeight\": \"normal\"  },  \"axisQuantitative\": {    \"tickCount\": 14,    \"grid\": true,    \"gridColor\": \"#C8C6C4\",    \"gridDash\": [1, 5],    \"labelFlush\": false  },  \"axisBand\": {\"tickExtra\": true},  \"axisX\": {\"labelPadding\": 5},  \"axisY\": {\"labelPadding\": 10},  \"header\": {    \"titleFont\": \"wf_standard-font, helvetica, arial, sans-serif\",    \"titleFontSize\": 16,    \"titleColor\": \"#252423\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 13.333333333333332,    \"labelColor\": \"#605E5C\"  },  \"legend\": {    \"titleFont\": \"Segoe UI\",    \"titleFontWeight\": \"bold\",    \"titleColor\": \"#605E5C\",    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 10,    \"labelColor\": \"#605E5C\",    \"symbolType\": \"square\",    \"symbolSize\": 75  }}&nbsp;&nbsp;External references  Stacked Area Chart - used as the starting point.  Filter Transform - used a lot of filters in this chart.&nbsp;&nbsp;View chartNo chart view available."
  },
  
  {
    "title": "The one with the cumulative line chart.",
    "url": "/posts/cumulative-line-chart/",
    "categories": "Deneb",
    "tags": "workout wednesday, deneb, powerbi, line chart, cumulative, wow2018, tableau",
    "date": "2022-02-21 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2018.  Please note that there is many ways to get to the same answer. When I look back at this challenge, I might have over complicated it a lot, but it worked at that time. If you have a simpler way to get to the answer, please share and I will update the page.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.I added a Date table to play around with the fiscal year start period.Added Calculated TableDate = VAR __minYear = YEAR ( MIN ( Orders[Order Date] ) )VAR __maxYear = YEAR ( MAX (Orders[Order Date] ) )VAR __fiscalPeriodStart = 7VAR __fiscalYearOffset = IF ( __fiscalPeriodStart &gt; 1, 1, 0 )VAR __startDate = DATE ( __minYear, 1, 1 )VAR __endDate = DATE ( __maxYear, 12, 31 )RETURNADDCOLUMNS (     CALENDAR( __startDate, __endDate ),    \"Year\", YEAR ( [Date] ),    \"MonthID\", MONTH ( [Date] ),    \"Month\", FORMAT( MONTH ( [Date] ), \"MMM\" ),    \"FinMonth\", FORMAT ( EOMONTH ( [Date], 0 ), \"MMM\"),    \"FY\", \"FY \" &amp; IF ( MONTH ([Date] ) &gt;= __fiscalPeriodStart, YEAR ( [Date] ) +       __fiscalYearOffset, YEAR ( [Date] ) ),    \"FinMonthSortId\", MOD ( Month ( [Date] ) - __fiscalPeriodStart, 12 ) + 1 )&nbsp;&nbsp;Additional fields createdFiscalMonthFiscalMonth = SELECTEDVALUE(FiscalMonth[FiscalMonthStart])TotalSalesTotalSales = SUM ( Orders[Sales] )&nbsp;&nbsp;Fields used  Year of Order Date  AS  Year  FinMonthSortId  TotalSales  FiscalMonth&nbsp;&nbsp;Specification{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"data\": {\"name\": \"dataset\"},  \"height\": 500,  \"width\": 500,  \"transform\": [    {      \"calculate\": \"datum['FiscalMonth'] == 1 ? 0 : 1\",      \"as\": \"FiscalYearOffset\"    },    {      \"calculate\": \"datum['FinMonthSortId'] &gt;= datum['FiscalMonth'] ? datum['Year'] +         datum.FiscalYearOffset : datum['Year']\",      \"as\": \"FiscalYear\"    },    {      \"calculate\": \"datum['FinMonthSortId'] &gt;= datum['FiscalMonth'] ?         datum['FinMonthSortId'] - datum['FiscalMonth'] + 1 :           (12 - datum['FiscalMonth']) + 1 + datum['FinMonthSortId']\",      \"as\": \"FiscalMonth\"    },    {      \"window\": [        {          \"op\": \"sum\",          \"field\": \"TotalSales\",          \"as\": \"CumulativeSales\"        }      ],      \"groupby\": [\"FiscalYear\"],      \"frame\": [null, 0]    }  ],  \"layer\": [    {      \"mark\": {        \"type\": \"line\"      },      \"encoding\": {        \"x\": {          \"field\": \"FiscalMonth\",          \"axis\": {\"labelAngle\": 0}        },        \"y\": {          \"field\": \"CumulativeSales\",          \"type\": \"quantitative\"        },        \"color\": {          \"field\": \"FiscalYear\",          \"legend\": null        }      }    },    {      \"encoding\": {        \"x\": {          \"aggregate\": \"max\",          \"field\": \"FiscalMonth\",          \"type\": \"ordinal\",          \"title\": \"Fiscal Month (number)\",          \"axis\": { \"ticks\": false, \"labelPadding\": 5 }        },        \"y\": {          \"aggregate\": {            \"argmax\": \"FiscalMonth\"          },          \"field\": \"CumulativeSales\",          \"type\": \"quantitative\",          \"axis\":{            \"title\": \"TotalSales\",            \"titleAngle\": 0,            \"titleFont\":\"Segoe UI\",            \"titleY\": -20,            \"titleX\": -40          }        }      },      \"layer\": [        {          \"mark\": {            \"type\": \"text\",            \"align\": \"left\",            \"dx\": 6,            \"font\": \"Segoe UI Light\",            \"fontWeight\": \"bold\",            \"fontSize\":12,            \"align\": \"left\"          },          \"encoding\": {            \"text\": {              \"field\": \"FiscalYear\",              \"type\": \"nominal\"            },            \"color\": {              \"field\": \"FiscalYear\"            }          }        }      ]    }  ],  \"config\": {\"view\": {\"stroke\": null}}}&nbsp;&nbsp;ConfigNo config exists for this chart.&nbsp;&nbsp;External references  Cumulative Frequency Distribution - used in calculating the cumulative sales value.&nbsp;&nbsp;View chartNo chart view available."
  },
  
  {
    "title": "The one with the scatterplot.",
    "url": "/posts/scatter-plot/",
    "categories": "Deneb",
    "tags": "workout wednesday, deneb, powerbi, scatterplot, reference, wow2022, tableau",
    "date": "2022-02-12 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2022. I was hooked! Everything Tableau can do, PowerBI can do with Deneb.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdNone&nbsp;&nbsp;Fields used  State mapped to state  SalesValue mapped to sales  Profit Ratio mapped to prof&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"mark\": {\"type\": \"rect\"},      \"encoding\": {        \"y\": {          \"aggregate\": \"q1\",          \"field\": \"prof\"        },        \"y2\": {          \"aggregate\": \"q3\",          \"field\": \"prof\"        },        \"x\": {          \"aggregate\": \"q1\",          \"field\": \"sales\"        },        \"x2\": {          \"aggregate\": \"q3\",          \"field\": \"sales\"        },        \"opacity\": {\"value\": 0.2}      }    },    {      \"params\": [        {          \"name\": \"pts\",          \"select\": {            \"type\": \"point\",            \"fields\": [\"state\"]          },          \"value\": [            {\"state\": \"New Jersey\"}          ]        }      ],      \"mark\": {        \"type\": \"point\",        \"stroke\": \"#5c6068\",        \"strokeWidth\":1,        \"fill\": \"#d3d3d3\",        \"tooltip\": true      },      \"encoding\": {        \"x\": {          \"field\": \"sales\",          \"type\": \"quantitative\",          \"axis\": {            \"format\": \"$,f\",            \"tickCount\": 4,            \"ticks\": false,            \"labelFont\": \"Segoe UI\",            \"labelFontSize\": 11,            \"labelColor\": \"#cdcdcd\",            \"title\": \"Sales\",            \"titleFont\": \"Segoe UI\",            \"titleFontSize\": 14          }        },        \"y\": {          \"field\": \"prof\",          \"type\": \"quantitative\",          \"axis\": {            \"format\": \",%\",            \"ticks\": false,            \"labelPadding\": 40,            \"labelFont\": \"Segoe UI\",            \"labelFontSize\": 11,            \"labelColor\": \"#cdcdcd\",            \"title\": \"Profit Ratio\",            \"titleFont\": \"Segoe UI\",            \"titleFontSize\": 14          },          \"scale\": {            \"domain\": [-0.4, 0.4]          }        },        \"fill\": {          \"condition\": {            \"param\": \"pts\",            \"value\": \"#5c6068\"          },          \"value\": \"#d3d3d3\"        },        \"size\": {          \"condition\": {            \"param\": \"pts\",            \"empty\": false,            \"value\": 120          },          \"value\": 30        }      }    },    {      \"mark\": {        \"type\": \"rule\",        \"strokeWidth\": 0.6,        \"strokeDash\": [1, 2],        \"color\": \"#a0a0a0\"      },      \"encoding\": {        \"y\": {          \"aggregate\": \"median\",          \"field\": \"prof\",          \"axis\": {            \"format\": \",%\",            \"tickCount\": 9          },          \"type\": \"quantitative\",          \"scale\": {            \"domain\": [-0.4, 0.4]          }        },        \"x2\": {\"datum\": -30}      }    },    {      \"mark\": {        \"type\": \"rule\",        \"strokeWidth\": 0.6,        \"strokeDash\": [1, 2],        \"color\": \"#a0a0a0\"      },      \"encoding\": {        \"x\": {          \"aggregate\": \"median\",          \"field\": \"sales\",          \"type\": \"quantitative\",          \"title\": \"Sales\"        }      }    },    {      \"mark\": {        \"type\": \"rule\",        \"strokeWidth\": 0.2,        \"strokeDash\": [1, 2],        \"color\": \"#d4d4d4\"      },      \"encoding\": {\"y\": {\"datum\": 0}}    }  ]}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"axis\": {    \"grid\": false,    \"domain\": false  },  \"view\": {\"stroke\": \"transparent\"}}&nbsp;&nbsp;External references  Ranged Rectangles - used as the starting point.  Aggregation - used to calculate the quartiles.&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor"
  },
  
  {
    "title": "The one with the combined chart.",
    "url": "/posts/tableau-redo-one/",
    "categories": "Deneb",
    "tags": "workout wednesday, deneb, powerbi, combined, bar, dumb-bell chart, wow2022, tableau",
    "date": "2022-02-06 00:00:00 +0200",
    





    "snippet": "The chart was posted as part of the Tableau Workout Wednesday 2022. The Tableau chart was a challenge I posed myself. I wanted to show that with Deneb, PowerBI can be elevated to a next level visualization tool.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields created% Successful Products% Successful Products = VAR __Successful =CALCULATE(    [# Products],    'Product'[Product Type] = \"Successful Products\")VAR __allproducts =CALCULATE(    [# Products],    ALL('Product'[Product Type])) + .0000000001 //added to display records with 0 valuesRETURNDIVIDE ( __Successful, __allproducts ) + .0000000001 //added to display records with 0 valuesProfit RatioProfit Ratio = VAR __Profit =SUM ( Profit[Profit] ) VAR __Sales =SUM ( Profit[Sales] )RETURN DIVIDE ( __Profit, __Sales )&nbsp;&nbsp;Fields used  Product-Category mapped to cat  Product-Type mapped to typ  Product-SubCategory mapped to sub  % Successful Products mapped to per  Profit Ratio mapped to rat&nbsp;&nbsp;Specification  Since completion of this challenge, I’ve learned that there is an easier way to set the tick marks as in this example. See Axis &gt; Ticks &gt; tickBand for more details.{  \"data\": {\"name\": \"dataset\"},  \"title\": {    \"text\": [      \"#WOW2022 - WEEK 4: How have successful products performed?\",      \"\"    ],    \"font\": \"Segoe UI\",    \"color\": \"#333333\",    \"fontSize\": 17,    \"align\": \"left\"  },  \"hconcat\": [    {      \"layer\": [        {          \"mark\": {            \"type\": \"bar\",            \"height\": {\"band\": 0.7},            \"tooltip\": true          },          \"encoding\": {            \"y\": {              \"field\": \"sub\",              \"type\": \"nominal\",              \"title\": \"\",              \"axis\": {                \"grid\": true,                \"labelOffset\": -10,                \"labelAlign\": \"left\",                \"labelPadding\": 0,                \"tickSize\": 70,                \"tickOffset\": 10,                \"labelFont\": \"Segoe UI\",                \"labelFontSize\": 11              }            },            \"x\": {              \"aggregate\": \"mean\",              \"field\": \"per\",              \"type\": \"quantitative\",              \"scale\": {                \"domain\": [0, 0.45]              },              \"axis\": {                \"titlePadding\": 10,                \"title\": \"% Successful Products\",                \"titleFont\": \"Segoe UI\",                \"titleFontSize\": 13,                \"titleFontWeight\": 600,                \"format\": \"%\",                \"grid\": false,                \"labelFont\": \"Segoe UI\",                \"labelFontSize\": 11              }            },            \"color\": {              \"value\": \"#5557EB\"            }          }        },        {          \"mark\": {            \"type\": \"text\",            \"align\": \"left\",            \"baseline\": \"middle\",            \"dx\": 3,            \"font\": \"Segoe UI\",            \"fontSize\": 11          },          \"encoding\": {            \"text\": {              \"field\": \"per\",              \"type\": \"nominal\",              \"format\": \".0%\"            },            \"x\": {              \"aggregate\": \"mean\",              \"field\": \"per\",              \"type\": \"quantitative\"            },            \"y\": {              \"field\": \"sub\",              \"title\": \"\",              \"type\": \"nominal\"            }          }        }      ]    },    {      \"encoding\": {        \"x\": {          \"field\": \"rat\",          \"type\": \"quantitative\",          \"scale\": {            \"domain\": [-0.2, 0.5]          },          \"axis\": {            \"titlePadding\": 10,            \"title\": \"Profit Ratio\",            \"titleFont\": \"Segoe UI\",            \"titleFontSize\": 13,            \"titleFontWeight\": 600,            \"format\": \"%\",            \"minExtent\": 10,            \"domain\": false,            \"grid\": false,            \"labelFont\": \"Segoe UI\",            \"labelFontSize\": 11          }        },        \"y\": {          \"field\": \"sub\",          \"type\": \"nominal\",          \"title\": \"\",          \"axis\": {            \"grid\": true,            \"labels\": false,            \"labelOffset\": -10,            \"labelPadding\": -24,            \"tickSize\": 0,            \"tickOffset\": 10          }        }      },      \"layer\": [        {          \"mark\": \"line\",          \"encoding\": {            \"detail\": {              \"field\": \"sub\",              \"type\": \"nominal\"            },            \"color\": {              \"value\": \"#e0e0e0\"            }          }        },        {          \"params\": [            {              \"name\": \"products\",              \"select\": {                \"type\": \"point\",                \"fields\": [\"typ\"]              },              \"bind\": \"legend\"            }          ],          \"mark\": {            \"type\": \"point\",            \"filled\": true,            \"size\": 90          },          \"encoding\": {            \"color\": {              \"field\": \"typ\",              \"scale\": {                \"domain\": [                  \"Successful Products\",                  \"Other Products\"                ],                \"range\": [                  \"#5557EB\",                  \"#8A8BF1\"                ]              },              \"title\": null,              \"legend\": {                \"legendX\": -60,                \"legendY\": -50,                \"orient\": \"none\",                \"labelFont\": \"Segoe UI\",                \"labelFontSize\": 12,                \"symbolType\": \"square\",                \"symbolSize\": 200              }            },            \"opacity\": {              \"condition\": {                \"param\": \"products\",                \"value\": 1              },              \"value\": 0.2            }          }        }      ],      \"resolve\": {        \"legend\": {          \"opacity\": \"independent\"        }      }    }  ]}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"facet\": {\"spacing\": 0},  \"axis\": {    \"domainColor\": \"#ddd\",    \"tickColor\": \"#ddd\"  },  \"concat\": {\"spacing\": 0},  \"view\": {    \"stroke\": \"#ddd\",    \"domain\": true  }}&nbsp;&nbsp;External references  Ranged Dot Plot - used as the starting point.  Horizontal Concatenation - used to combine the two charts.  Legend binding - highlight product selected by clicking the legend.&nbsp;&nbsp;View chartNo chart view available."
  },
  
  {
    "title": "The one with the area chart.",
    "url": "/posts/covid-area/",
    "categories": "Deneb",
    "tags": "deneb, powerbi, area chart, wow2022, workout wednesday",
    "date": "2022-02-02 00:00:00 +0200",
    





    "snippet": "This chart was part of my submission for Week 5 Workout Wednesday  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdNone&nbsp;&nbsp;Fields used  date  location  new_cases_smoothed&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"mark\": \"area\",  \"width\": 250,  \"height\": 100,  \"encoding\": {    \"x\": {      \"field\": \"date\",      \"type\": \"temporal\",      \"title\": \"Date\",      \"axis\": {        \"grid\": false,        \"ticks\": false,        \"labelPadding\": 5,        \"format\": \"%b %y\"      }    },    \"y\": {      \"field\": \"new_cases_smoothed\",      \"type\": \"quantitative\",      \"title\": \"\",      \"axis\": {        \"grid\": false,        \"ticks\": false,        \"labelPadding\": 5      }    },    \"color\": {      \"field\": \"location\",      \"type\": \"nominal\",      \"legend\": null,      \"scale\": {\"scheme\": \"redblue\"}    },    \"row\": {      \"field\": \"location\",      \"type\": \"nominal\",      \"title\": null,      \"header\": {        \"labelOrient\": \"\",        \"labelBaseline\": \"line-bottom\",        \"labelAngle\": 0,        \"labelAnchor\": \"end\",        \"labelFont\": \"Cambria\",        \"labelFontSize\": 14,        \"labelFontWeight\": \"bold\",        \"labelPadding\": 10      },      \"spacing\": 30    }  }}  Note that line 39 of the code will produce a warning as there is no value entered for labelOrient. I used this as it provided me with the correct location. 😏&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  }}&nbsp;&nbsp;External references  Trellis Area - used as the starting point.  Format configuration - used to change the date format for the x-axis.  Color Schemes - used to find a suitable color scheme&nbsp;&nbsp;View chartNo chart view available."
  },
  
  {
    "title": "The one with the heatmap.",
    "url": "/posts/heat-map/",
    "categories": "",
    "tags": "deneb, powerbi, heatmap, wow2022, workout wednesday",
    "date": "2022-01-30 00:00:00 +0200",
    





    "snippet": "This chart was part of the PowerBI Workout Wednesday  challenge.&nbsp;&nbsp;DatasetThe dataset can be found at the link above.&nbsp;&nbsp;Additional fields created  Rank  Rank =     VAR __Rank =    RANKX (        ALLEXCEPT( 'State Migration','State Migration'[State To]),        CALCULATE(SUM('State Migration'[Population Moving]))    )    RETURN        __Rank&nbsp;&nbsp;Fields used  From  To  Rank&nbsp;&nbsp;Specification{  \"data\": {\"name\": \"dataset\"},  \"mark\": \"rect\",  \"width\":450,  \"height\":450,  \"encoding\": {    \"x\": {      \"field\": \"to\",      \"title\": \" \",      \"type\": \"nominal\"    },    \"y\": {      \"field\": \"from\",      \"title\": \"State from / State to\",      \"type\": \"nominal\"    },    \"color\": {      \"field\": \"rank\",      \"legend\": {        \"title\":\"Ranking\"      },      \"scale\": {        \"domain\": [0, 5, 10, 15, 25, 40, 53],        \"range\": [\"#ffffcc\",\"#c7e9b4\",\"#7fcdbb\",\"#41b6c4\",\"#2c7fb8\",\"#253494\"]      },      \"sort\":\"descending\",      \"type\": \"quantitative\"    }  }}&nbsp;&nbsp;Config{  \"view\": {    \"continuousWidth\": 400,    \"continuousHeight\": 300,    \"strokeWidth\": 0  },  \"axisX\": {    \"grid\": false,    \"labelFont\": \"Arial\",    \"labelFontSize\": 10,    \"labelPadding\": 5,    \"orient\": \"top\",    \"ticks\": false  },  \"axisY\": {    \"grid\": false,    \"labelFont\": \"Arial\",    \"labelFontSize\": 10,    \"labelPadding\": 5,    \"ticks\": false,    \"titleAngle\": 0,    \"titleFontSize\": 13,    \"titleY\": -20  }}&nbsp;&nbsp;External references  Annual Weather Heatmap - used as the starting point.  Axis configuration - used to change the label orientation on the x-axis and to set the location of the title on the y-axis.&nbsp;&nbsp;View chartNo chart view available."
  },
  
  {
    "title": "The one with the line chart.",
    "url": "/posts/line-charts/",
    "categories": "Deneb",
    "tags": "deneb, powerbi, line chart, wow2022, workout wednesday",
    "date": "2022-01-22 00:00:00 +0200",
    





    "snippet": "This chart was part of the Week 3 Workout Wednesday  challenge.&nbsp;&nbsp;DatasetThe dataset can be found on the Workout Wednesday link above.&nbsp;&nbsp;Additional fields createdNone&nbsp;&nbsp;Fields used  Date  Close  Company&nbsp;&nbsp;Specification{  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",  \"data\": {\"name\": \"dataset\"},  \"layer\": [    {      \"description\": \"set the date points to facilitate the click event &amp; default value\",      \"params\": [        {          \"name\": \"select\",          \"value\": [            {              \"x\": {                \"year\": 2020,                \"month\": 11,                \"date\": 1              }            }          ],          \"select\": {            \"type\": \"point\",            \"encodings\": [\"x\"],            \"on\": \"click\",            \"nearest\": true          }        }      ],      \"mark\": \"point\",      \"encoding\": {        \"x\": {          \"field\": \"Date\",          \"type\": \"temporal\"        },        \"opacity\": {\"value\": 0}      }    },    {      \"description\": \"when the date is selected, recalculated the % change\",      \"transform\": [        {          \"lookup\": \"symbol\",          \"from\": {            \"param\": \"select\",            \"key\": \"symbol\"          }        },        {          \"calculate\": \"datum.select &amp;&amp; datum.select.Close &gt; 0 ?             (datum.Close - datum.select.Close)/datum.select.Close : 0\",          \"as\": \"selected_price\"        }      ],      \"layer\": [        {          \"description\": \"draw the line chart for the price change\",          \"mark\": \"line\",          \"encoding\": {            \"x\": {              \"field\": \"Date\",              \"type\": \"temporal\"            },            \"y\": {              \"field\": \"selected_price\",              \"type\": \"quantitative\",              \"axis\": {\"format\": \"%\"}            },            \"color\": {              \"field\": \"Company\",              \"type\": \"nominal\",              \"legend\": null            }          }        },        {          \"description\": \"determine the price value at the end of date range\",          \"encoding\": {            \"x\": {              \"aggregate\": \"max\",              \"field\": \"Date\",              \"type\": \"temporal\"            },            \"y\": {              \"aggregate\": {                \"argmax\": \"Date\"              },              \"field\": \"selected_price\",              \"type\": \"quantitative\"            },            \"color\": {              \"field\": \"Company\",              \"type\": \"nominal\"            }          },          \"layer\": [            {              \"description\": \"draw a circle at the end of the date range\",              \"mark\": {\"type\": \"circle\"}            },            {              \"description\": \"add text for the company at the end of the date range\",              \"mark\": {                \"type\": \"text\",                \"align\": \"left\",                \"dx\": 4              },              \"encoding\": {                \"text\": {                  \"field\": \"Company\",                  \"type\": \"nominal\"                }              }            }          ]        },        {          \"transform\": [            {              \"filter\": {                \"param\": \"select\"              }            }          ],          \"encoding\": {            \"x\": {              \"field\": \"Date\",              \"type\": \"temporal\",              \"timeUnit\": \"yearmonth\"            }          },          \"layer\": [            {              \"description\": \"show the line and text for the selected month\",              \"mark\": {                \"type\": \"text\",                \"align\": \"right\",                \"fontWeight\": 100,                \"dx\": -5              },              \"encoding\": {                \"text\": {                  \"field\": \"Date\",                  \"timeUnit\": \"yearmonth\"                },                \"y\": {\"value\": 10},                \"color\": {                  \"value\": \"#7D7A78\"                }              }            }          ]        },        {          \"layer\": [            {              \"transform\": [                {                  \"filter\": {                    \"param\": \"select\"                  }                }              ],              \"description\": \"add vertical rule for the selected month\",              \"mark\": {                \"type\": \"rule\",                \"strokeWidth\": 0.5,                \"strokeDash\": [1, 2]              },              \"encoding\": {                \"x\": {                  \"field\": \"Date\",                  \"type\": \"temporal\"                },                \"color\": {                  \"value\": \"#7D7A78\"                }              }            },            {              \"transform\": [                {                  \"filter\": {                    \"param\": \"select\"                  }                }              ],              \"description\": \"add horizontal line at baseline (0%)\",              \"mark\": {                \"type\": \"rule\",                \"strokeWidth\": 0.5,                \"strokeDash\": [1, 2]              },              \"encoding\": {                \"y\": {                  \"field\": \"yaxis\",                  \"type\": \"quantitative\"                },                \"color\": {                  \"value\": \"#7D7A78\"                }              }            },            {              \"transform\": [                {                  \"filter\": {                    \"param\": \"select\"                  }                }              ],              \"description\": \"add black circle at the selected month\",              \"mark\": {                \"type\": \"circle\",                \"size\": 50              },              \"encoding\": {                \"x\": {                  \"field\": \"Date\",                  \"type\": \"temporal\"                },                \"y\": {                  \"field\": \"yaxis\",                  \"type\": \"quantitative\"                },                \"color\": {                  \"value\": \"black\"                }              }            }          ]        }      ]    }  ]}&nbsp;&nbsp;Config{  \"autosize\": {    \"type\": \"fit\",    \"contains\": \"padding\"  },  \"range\": {    \"category\": [      \"#1BA3C6\",      \"#BDBD22\",      \"#F43C63\",      \"#4F7CBA\"    ]  },  \"legend\": {\"disable\": true},  \"view\": {\"stroke\": 0},  \"axis\": {    \"domain\": false,    \"grid\": false,    \"labelPadding\": 10,    \"ticks\": false,    \"title\": null,    \"labelFont\": \"Segoe UI\",    \"labelFontSize\": 10,    \"labelColor\": \"#7D7A78\"  },  \"text\": {    \"font\": \"Consolas\",    \"fontSize\": 12  }}&nbsp;&nbsp;External references  Interactive Index Chart - used as the starting point.  Event Streams - used to determine the select method;  Pyramid Pie Chart - used the color code section;&nbsp;&nbsp;View chartOpen the Chart in the Vega Editor  you need to click anywhere on the chart for it to render the first time."
  }
  
]

